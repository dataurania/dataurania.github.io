{"version":3,"sources":["../node_modules/rc-util/es/ref.js","../node_modules/rc-util/es/raf.js","../node_modules/antd/es/_util/type.js","../node_modules/antd/es/_util/reactNode.js","../node_modules/rc-motion/es/util/motion.js","../node_modules/rc-motion/es/interface.js","../node_modules/rc-motion/es/hooks/useIsomorphicLayoutEffect.js","../node_modules/rc-motion/es/hooks/useStepQueue.js","../node_modules/rc-motion/es/hooks/useNextFrame.js","../node_modules/rc-motion/es/hooks/useStatus.js","../node_modules/rc-motion/es/hooks/useDomMotionEvents.js","../node_modules/rc-motion/es/DomWrapper.js","../node_modules/rc-motion/es/CSSMotion.js","../node_modules/rc-motion/es/util/diff.js","../node_modules/rc-motion/es/CSSMotionList.js","../node_modules/rc-motion/es/index.js","../node_modules/rc-util/es/hooks/useState.js","../node_modules/rc-util/es/Dom/findDOMNode.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/rc-util/es/hooks/useMemo.js"],"names":["fillRef","ref","node","_typeof","current","composeRef","_len","arguments","length","refs","Array","_key","refList","filter","forEach","useComposeRef","_len2","_key2","useMemo","apply","prev","next","every","i","supportRef","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","isMemo","prototype","render","raf","callback","setTimeout","caf","num","clearTimeout","window","requestAnimationFrame","handle","cancelAnimationFrame","rafUUID","rafIds","Map","cleanup","id","delete","wrapperRaf","times","undefined","callRef","leftTimes","realId","set","cancel","get","tuple","args","isValidElement","React","cloneElement","element","props","replacement","replaceElement","makePrefixMap","styleProp","eventName","prefixes","toLowerCase","concat","vendorPrefixes","domSupport","win","animationend","transitionend","animation","transition","getVendorPrefixes","canUseDOM","style","_document$createEleme","document","createElement","prefixedEventNames","getVendorPrefixedEventName","prefixMap","stylePropList","Object","keys","len","hasOwnProperty","call","internalAnimationEndName","internalTransitionEndName","supportTransition","animationEndName","transitionEndName","getTransitionName","transitionName","transitionType","replace","match","toUpperCase","useIsomorphicLayoutEffect","canUseDom","useLayoutEffect","useEffect","STEP_QUEUE","isActive","step","status","_useState","useState","_useState2","_slicedToArray","setStep","_useNextFrame","nextFrameRef","cancelNextFrame","nextFrame","delay","nextFrameId","isCanceled","useNextFrame","_useNextFrame2","index","indexOf","nextStep","result","info","doNext","Promise","resolve","then","useStatus","supportMotion","visible","getElement","_ref","_ref$motionEnter","motionEnter","_ref$motionAppear","motionAppear","_ref$motionLeave","motionLeave","motionDeadline","motionLeaveImmediately","onAppearPrepare","onEnterPrepare","onLeavePrepare","onAppearStart","onEnterStart","onLeaveStart","onAppearActive","onEnterActive","onLeaveActive","onAppearEnd","onEnterEnd","onLeaveEnd","onVisibleChanged","asyncVisible","setAsyncVisible","_useState3","_useState4","setStatus","_useState5","_useState6","setStyle","mountedRef","useRef","deadlineRef","cacheElementRef","getDomElement","activeRef","onInternalMotionEnd","event","canEnd","deadline","target","_useDomMotionEvents","callbackRef","removeMotionEvents","removeEventListener","addEventListener","useDomMotionEvents","patchMotionEvents","eventHandlers","_ref2","_ref3","_ref4","_defineProperty","_useStepQueue","useStepQueue","newStep","onPrepare","_eventHandlers$step","_useStepQueue2","startStep","active","nextStatus","isMounted","mergedStyle","_objectSpread","DomWrapper","_React$Component","_inherits","_super","_createSuper","_classCallCheck","this","_createClass","key","value","children","genCSSMotion","config","transitionSupport","isSupportTransition","motionName","CSSMotion","_props$visible","_props$removeOnLeave","removeOnLeave","forceRender","leavedClassName","eventProps","nodeRef","wrapperNodeRef","_useStatus","HTMLElement","findDOMNode","e","_useStatus2","statusStep","statusStyle","mergedVisible","renderedRef","motionChildren","setNodeRef","mergedProps","_classNames","statusSuffix","className","classNames","display","displayName","wrapKeyToObject","keyObj","String","parseKeys","map","diffKeys","prevKeys","currentKeys","list","currentIndex","currentLen","prevKeyObjects","currentKeyObjects","hit","currentKeyObj","slice","obj","push","duplicatedKeys","matchKey","_excluded","_excluded2","MOTION_PROP_NAMES","genCSSMotionList","OriginCSSMotion","CSSMotionList","_this","state","keyEntities","removeKey","setState","entity","_this2","_this$props","component","_onVisibleChanged","restProps","_objectWithoutProperties","Component","motionProps","prop","_extends","changedVisible","parsedKeyObjects","prevEntity","find","_ref5","defaultProps","defaultValue","destroyRef","_React$useState","_React$useState2","setValue","updater","ignoreDestroy","ReactDOM","MapShim","getIndex","arr","some","entry","class_1","__entries__","defineProperty","enumerable","configurable","entries","splice","has","clear","ctx","_i","_a","isBrowser","global$1","global","Math","self","Function","requestAnimationFrame$1","bind","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","getValue","condition","shouldUpdate","cacheRef"],"mappings":"wGAAA,sKAGO,SAASA,EAAQC,EAAKC,GACR,oBAARD,EACTA,EAAIC,GACsB,WAAjBC,YAAQF,IAAqBA,GAAO,YAAaA,IAC1DA,EAAIG,QAAUF,GAOX,SAASG,IACd,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGzB,IAAIC,EAAUH,EAAKI,QAAO,SAAUZ,GAClC,OAAOA,KAGT,OAAIW,EAAQJ,QAAU,EACbI,EAAQ,GAGV,SAAUV,GACfO,EAAKK,SAAQ,SAAUb,GACrBD,EAAQC,EAAKC,OAIZ,SAASa,IACd,IAAK,IAAIC,EAAQT,UAAUC,OAAQC,EAAO,IAAIC,MAAMM,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFR,EAAKQ,GAASV,UAAUU,GAG1B,OAAOC,aAAQ,WACb,OAAOb,EAAWc,WAAM,EAAQV,KAC/BA,GAAM,SAAUW,EAAMC,GACvB,OAAOD,EAAKZ,SAAWa,EAAKb,QAAUY,EAAKE,OAAM,SAAUrB,EAAKsB,GAC9D,OAAOtB,IAAQoB,EAAKE,SAInB,SAASC,EAAWC,GACzB,IAAIC,EAAiBC,EAEjBC,EAAOC,iBAAOJ,GAAmBA,EAAgBG,KAAKA,KAAOH,EAAgBG,KAEjF,QAAoB,oBAATA,KAAgE,QAAtCF,EAAkBE,EAAKE,iBAA2C,IAApBJ,OAA6B,EAASA,EAAgBK,YAK1G,oBAApBN,KAA4F,QAAvDE,EAAwBF,EAAgBK,iBAAiD,IAA1BH,OAAmC,EAASA,EAAsBI,W,iCCxDnL,sCAAIC,EAAM,SAAaC,GACrB,OAAQC,WAAWD,EAAU,KAG3BE,EAAM,SAAaC,GACrB,OAAOC,aAAaD,IAGA,qBAAXE,QAA0B,0BAA2BA,SAC9DN,EAAM,SAAaC,GACjB,OAAOK,OAAOC,sBAAsBN,IAGtCE,EAAM,SAAaK,GACjB,OAAOF,OAAOG,qBAAqBD,KAIvC,IAAIE,EAAU,EACVC,EAAS,IAAIC,IAEjB,SAASC,EAAQC,GACfH,EAAOI,OAAOD,GAGD,SAASE,EAAWf,GACjC,IAAIgB,EAAQ1C,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAK,EAE5EuC,EADJJ,GAAW,EAGX,SAASS,EAAQC,GACf,GAAkB,IAAdA,EAEFP,EAAQC,GAERb,QACK,CAEL,IAAIoB,EAASrB,GAAI,WACfmB,EAAQC,EAAY,MAGtBT,EAAOW,IAAIR,EAAIO,IAKnB,OADAF,EAAQF,GACDH,EAGTE,EAAWO,OAAS,SAAUT,GAC5B,IAAIO,EAASV,EAAOa,IAAIV,GAExB,OADAD,EAAQQ,GACDlB,EAAIkB,K,iCCrDb,kCACO,IAAII,EAAQ,WACjB,IAAK,IAAInD,EAAOC,UAAUC,OAAQkD,EAAO,IAAIhD,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/E+C,EAAK/C,GAAQJ,UAAUI,GAGzB,OAAO+C,I,iCCNT,+EACIC,EAAiBC,iBAMd,SAASC,EAAaC,EAASC,GACpC,OALK,SAAwBD,EAASE,EAAaD,GACnD,OAAKJ,EAAeG,GACAF,eAAmBE,EAA0B,oBAAVC,EAAuBA,EAAMD,EAAQC,OAAS,IAAMA,GADtEC,EAI9BC,CAAeH,EAASA,EAASC,K,6JCJ1C,SAASG,EAAcC,EAAWC,GAChC,IAAIC,EAAW,GAMf,OALAA,EAASF,EAAUG,eAAiBF,EAAUE,cAC9CD,EAAS,SAASE,OAAOJ,IAAc,SAASI,OAAOH,GACvDC,EAAS,MAAME,OAAOJ,IAAc,MAAMI,OAAOH,GACjDC,EAAS,KAAKE,OAAOJ,IAAc,KAAKI,OAAOH,GAC/CC,EAAS,IAAIE,OAAOJ,IAAc,IAAII,OAAOH,EAAUE,eAChDD,EAqBT,IAAIG,EAlBG,SAA2BC,EAAYC,GAC5C,IAAIL,EAAW,CACbM,aAAcT,EAAc,YAAa,gBACzCU,cAAeV,EAAc,aAAc,kBAa7C,OAVIO,IACI,mBAAoBC,UACjBL,EAASM,aAAaE,UAGzB,oBAAqBH,UAClBL,EAASO,cAAcE,YAI3BT,EAEYU,CAAkBC,cAA+B,qBAAX1C,OAAyBA,OAAS,IACzF2C,EAAQ,GAEZ,GAAID,cAAa,CACf,IAAIE,EAAwBC,SAASC,cAAc,OAEnDH,EAAQC,EAAsBD,MAGhC,IAAII,EAAqB,GAClB,SAASC,EAA2BlB,GACzC,GAAIiB,EAAmBjB,GACrB,OAAOiB,EAAmBjB,GAG5B,IAAImB,EAAYf,EAAeJ,GAE/B,GAAImB,EAIF,IAHA,IAAIC,EAAgBC,OAAOC,KAAKH,GAC5BI,EAAMH,EAAchF,OAEfe,EAAI,EAAGA,EAAIoE,EAAKpE,GAAK,EAAG,CAC/B,IAAI4C,EAAYqB,EAAcjE,GAE9B,GAAIkE,OAAO3D,UAAU8D,eAAeC,KAAKN,EAAWpB,IAAcA,KAAac,EAE7E,OADAI,EAAmBjB,GAAamB,EAAUpB,GACnCkB,EAAmBjB,GAKhC,MAAO,GAET,IAAI0B,EAA2BR,EAA2B,gBACtDS,EAA4BT,EAA2B,iBAChDU,KAAuBF,IAA4BC,GACnDE,EAAmBH,GAA4B,eAC/CI,EAAoBH,GAA6B,gBACrD,SAASI,EAAkBC,EAAgBC,GAChD,OAAKD,EAE2B,WAA5BjG,YAAQiG,GAIHA,EAHIC,EAAeC,QAAQ,QAAQ,SAAUC,GAClD,OAAOA,EAAM,GAAGC,kBAKb,GAAGjC,OAAO6B,EAAgB,KAAK7B,OAAO8B,GATjB,KCvEvB,I,SCIQI,EADiBC,cAAcC,kBAAkBC,Y,SCG5DC,EAAa,CFDS,UACF,QACC,SACG,OEKrB,SAASC,EAASC,GACvB,MFPuB,WEOhBA,GFNmB,QEMKA,EAEjB,eAAUC,EAAQ/E,GAChC,IAAIgF,EAAYC,YFbK,QEcjBC,EAAaC,YAAeH,EAAW,GACvCF,EAAOI,EAAW,GAClBE,EAAUF,EAAW,GAErBG,ECpBU,WACd,IAAIC,EAAe3D,SAAa,MAEhC,SAAS4D,IACPxF,IAAIuB,OAAOgE,EAAanH,SAyB1B,OALAwD,aAAgB,WACd,OAAO,WACL4D,OAED,IACI,CAtBP,SAASC,EAAUxF,GACjB,IAAIyF,EAAQnH,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAK,EAChFiH,IACA,IAAIG,EAAc3F,aAAI,WAChB0F,GAAS,EACXzF,EAAS,CACP2F,WAAY,WACV,OAAOD,IAAgBJ,EAAanH,WAIxCqH,EAAUxF,EAAUyF,EAAQ,MAGhCH,EAAanH,QAAUuH,GAQNH,GDTCK,GAChBC,EAAiBV,YAAeE,EAAe,GAC/CG,EAAYK,EAAe,GAC3BN,EAAkBM,EAAe,GAuCrC,OAjCArB,GAA0B,WACxB,GF5BmB,SE4BfM,GFxBoB,QEwBEA,EAAyB,CACjD,IAAIgB,EAAQlB,EAAWmB,QAAQjB,GAC3BkB,EAAWpB,EAAWkB,EAAQ,GAC9BG,EAASjG,EAAS8E,IA1BN,IA4BZmB,EAEFb,EAAQY,GAAU,GAGlBR,GAAU,SAAUU,GAClB,SAASC,IAEHD,EAAKP,cACTP,EAAQY,GAAU,IAGL,IAAXC,EACFE,IAGAC,QAAQC,QAAQJ,GAAQK,KAAKH,SAKpC,CAACpB,EAAQD,IACZnD,aAAgB,WACd,OAAO,WACL4D,OAED,IACI,CArCP,WACEH,EFvBsB,WEuBA,IAoCJN,IEtDP,SAASyB,EAAUC,EAAeC,EAASC,EAAYC,GACpE,IAAIC,EAAmBD,EAAKE,YACxBA,OAAmC,IAArBD,GAAqCA,EACnDE,EAAoBH,EAAKI,aACzBA,OAAqC,IAAtBD,GAAsCA,EACrDE,EAAmBL,EAAKM,YACxBA,OAAmC,IAArBD,GAAqCA,EACnDE,EAAiBP,EAAKO,eACtBC,EAAyBR,EAAKQ,uBAC9BC,EAAkBT,EAAKS,gBACvBC,EAAiBV,EAAKU,eACtBC,EAAiBX,EAAKW,eACtBC,EAAgBZ,EAAKY,cACrBC,EAAeb,EAAKa,aACpBC,EAAed,EAAKc,aACpBC,EAAiBf,EAAKe,eACtBC,EAAgBhB,EAAKgB,cACrBC,EAAgBjB,EAAKiB,cACrBC,EAAclB,EAAKkB,YACnBC,EAAanB,EAAKmB,WAClBC,EAAapB,EAAKoB,WAClBC,EAAmBrB,EAAKqB,iBAGxBhD,EAAYC,cACZC,EAAaC,YAAeH,EAAW,GACvCiD,EAAe/C,EAAW,GAC1BgD,EAAkBhD,EAAW,GAE7BiD,EAAalD,YJvCM,QIwCnBmD,EAAajD,YAAegD,EAAY,GACxCpD,EAASqD,EAAW,GACpBC,EAAYD,EAAW,GAEvBE,EAAarD,YAAS,MACtBsD,EAAapD,YAAemD,EAAY,GACxCtF,EAAQuF,EAAW,GACnBC,EAAWD,EAAW,GAEtBE,EAAaC,kBAAO,GACpBC,EAAcD,iBAAO,MAErBE,EAAkBF,iBAAO,MAE7B,SAASG,IAEP,OADcnC,KACIkC,EAAgBzK,QAIpC,IAAI2K,EAAYJ,kBAAO,GAEvB,SAASK,EAAoBC,GAC3B,IASIC,EATApH,EAAUgH,IAEVG,IAAUA,EAAME,UAAYF,EAAMG,SAAWtH,IJhE1B,WIyEnBkD,GAA4B+D,EAAU3K,QACxC8K,EAAyB,OAAhBpB,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhG,EAASmH,GJzEpE,UI0EXjE,GAA2B+D,EAAU3K,QAC9C8K,EAAwB,OAAfnB,QAAsC,IAAfA,OAAwB,EAASA,EAAWjG,EAASmH,GJ1EjE,UI2EXjE,GAA2B+D,EAAU3K,UAC9C8K,EAAwB,OAAflB,QAAsC,IAAfA,OAAwB,EAASA,EAAWlG,EAASmH,KAIxE,IAAXC,IACFZ,EJpFmB,QIoFI,GACvBG,EAAS,MAAM,KAInB,IAAIY,ECtFU,SAAUpJ,GACxB,IAAI4I,EAAkBF,mBAElBW,EAAcX,iBAAO1I,GACzBqJ,EAAYlL,QAAU6B,EAEtB,IAAI+I,EAAsBpH,eAAkB,SAAUqH,GACpDK,EAAYlL,QAAQ6K,KACnB,IAEH,SAASM,EAAmBzH,GACtBA,IACFA,EAAQ0H,oBAAoBtF,EAAmB8E,GAC/ClH,EAAQ0H,oBAAoBvF,EAAkB+E,IAwBlD,OALApH,aAAgB,WACd,OAAO,WACL2H,EAAmBV,EAAgBzK,YAEpC,IACI,CAnBP,SAA2B0D,GACrB+G,EAAgBzK,SAAWyK,EAAgBzK,UAAY0D,GACzDyH,EAAmBV,EAAgBzK,SAGjC0D,GAAWA,IAAY+G,EAAgBzK,UACzC0D,EAAQ2H,iBAAiBvF,EAAmB8E,GAC5ClH,EAAQ2H,iBAAiBxF,EAAkB+E,GAE3CH,EAAgBzK,QAAU0D,IAUHyH,GDiDDG,CAAmBV,GAEzCW,GADuBvE,YAAeiE,EAAqB,GAClB,GAGzCO,GAAgBhI,WAAc,WAChC,IAAIiI,EAAOC,EAAOC,EAElB,OAAQ/E,GACN,IJjGqB,SIkGnB,OAAO6E,EAAQ,GAAIG,YAAgBH,EJ9FjB,UI8FsCxC,GAAkB2C,YAAgBH,EJ7F1E,QI6F6FrC,GAAgBwC,YAAgBH,EJ5F5H,SI4FgJlC,GAAiBkC,EAEpL,IJnGoB,QIoGlB,OAAOC,EAAQ,GAAIE,YAAgBF,EJjGjB,UIiGsCxC,GAAiB0C,YAAgBF,EJhGzE,QIgG4FrC,GAAeuC,YAAgBF,EJ/F1H,SI+F8IlC,GAAgBkC,EAEjL,IJrGoB,QIsGlB,OAAOC,EAAQ,GAAIC,YAAgBD,EJpGjB,UIoGsCxC,GAAiByC,YAAgBD,EJnGzE,QImG4FrC,GAAesC,YAAgBD,EJlG1H,SIkG8IlC,GAAgBkC,EAEjL,QACE,MAAO,MAEV,CAAC/E,IAEAiF,GAAgBC,EAAalF,GAAQ,SAAUmF,GAEjD,GJ7GsB,YI6GlBA,EAA0B,CAC5B,IAAIC,EAAYR,GAAa,QAE7B,QAAKQ,GAIEA,EAAUtB,KAMjB,IAAIuB,EADFtF,MAAQ6E,IAGVnB,GAA0D,QAA/C4B,EAAsBT,GAAc7E,WAA2C,IAAxBsF,OAAiC,EAASA,EAAoBxG,KAAK+F,GAAed,IAAiB,QAAU,MAiBjL,MJ3IqB,WI6HjB/D,KAEF4E,GAAkBb,KAEd3B,EAAiB,IACnB9G,aAAauI,EAAYxK,SACzBwK,EAAYxK,QAAU8B,YAAW,WAC/B8I,EAAoB,CAClBG,UAAU,MAEXhC,MFlIS,KEwIdmD,GAAiBlF,YAAe6E,GAAe,GAC/CM,GAAYD,GAAe,GAC3BvF,GAAOuF,GAAe,GAEtBE,GAAS1F,EAASC,IACtBgE,EAAU3K,QAAUoM,GAGpB/F,GAA0B,WACxB0D,EAAgBzB,GAChB,IAOI+D,EAPAC,EAAYhC,EAAWtK,SAC3BsK,EAAWtK,SAAU,EAEhBqI,MAMAiE,GAAahE,GAAWM,IAC3ByD,EJvKqB,UI2KnBC,GAAahE,GAAWI,IAC1B2D,EJ3KoB,UI+KlBC,IAAchE,GAAWQ,IAAgBwD,GAAatD,IAA2BV,GAAWQ,KAC9FuD,EJ/KoB,SImLlBA,IACFnC,EAAUmC,GACVF,SAED,CAAC7D,IAGJ9B,qBAAU,YJ5Le,WI8LvBI,IAA6BgC,GJ7LP,UI8LtBhC,IAA4B8B,GJ7LN,UI8LtB9B,IAA4BkC,IAC1BoB,EJlMmB,UIoMpB,CAACtB,EAAcF,EAAaI,IAC/BtC,qBAAU,WACR,OAAO,WACLvE,aAAauI,EAAYxK,YAE1B,IAEHwG,qBAAU,gBACa1D,IAAjBgH,GJ5MiB,SI4MalD,IACX,OAArBiD,QAAkD,IAArBA,GAAuCA,EAAiBC,MAEtF,CAACA,EAAclD,IAElB,IAAI2F,GAAc1H,EAQlB,OANI2G,GAAa,SJ7MK,UI6Ma7E,KACjC4F,GAAcC,YAAc,CAC1B9H,WAAY,QACX6H,KAGE,CAAC3F,EAAQD,GAAM4F,GAA8B,OAAjBzC,QAA0C,IAAjBA,EAA0BA,EAAexB,G,wCE9LxFmE,EArBe,SAAUC,GACtCC,YAAUF,EAAYC,GAEtB,IAAIE,EAASC,YAAaJ,GAE1B,SAASA,IAGP,OAFAK,YAAgBC,KAAMN,GAEfG,EAAO7L,MAAMgM,KAAM5M,WAU5B,OAPA6M,YAAaP,EAAY,CAAC,CACxBQ,IAAK,SACLC,MAAO,WACL,OAAOH,KAAKpJ,MAAMwJ,aAIfV,EAlBqB,CAmB5BjJ,aC8Ga4J,MAlHR,SAAsBC,GAC3B,IAAIC,EAAoBD,EAMxB,SAASE,EAAoB5J,GAC3B,SAAUA,EAAM6J,aAAcF,GALR,WAApBvN,YAAQsN,KACVC,EAAoBD,EAAOC,mBAO7B,IAAIG,EAAyBjK,cAAiB,SAAUG,EAAO9D,GAC7D,IAAI6N,EAAiB/J,EAAM2E,QACvBA,OAA6B,IAAnBoF,GAAmCA,EAC7CC,EAAuBhK,EAAMiK,cAC7BA,OAAyC,IAAzBD,GAAyCA,EACzDE,EAAclK,EAAMkK,YACpBV,EAAWxJ,EAAMwJ,SACjBK,EAAa7J,EAAM6J,WACnBM,EAAkBnK,EAAMmK,gBACxBC,EAAapK,EAAMoK,WACnB1F,EAAgBkF,EAAoB5J,GAEpCqK,EAAUzD,mBAEV0D,EAAiB1D,mBAerB,IAAI2D,EAAa9F,EAAUC,EAAeC,GAb1C,WACE,IAKE,OAAO0F,EAAQhO,mBAAmBmO,YAAcH,EAAQhO,QAAUoO,YAAYH,EAAejO,SAC7F,MAAOqO,GAEP,OAAO,QAIuD1K,GAC9D2K,EAActH,YAAekH,EAAY,GACzCtH,EAAS0H,EAAY,GACrBC,EAAaD,EAAY,GACzBE,EAAcF,EAAY,GAC1BG,EAAgBH,EAAY,GAI5BI,EAAclL,SAAaiL,GAE3BA,IACFC,EAAY1O,SAAU,GAIxB,IAKI2O,EALAC,EAAapL,eAAkB,SAAU1D,GAC3CkO,EAAQhO,QAAUF,EAClBF,YAAQC,EAAKC,KACZ,IAIC+O,EAAcrC,YAAcA,YAAc,GAAIuB,GAAa,GAAI,CACjEzF,QAASA,IAGX,GAAK6E,EAGE,GP3Fc,SO2FVvG,GAA2B2G,EAAoB5J,GAiBnD,CACL,IAAImL,EAGAC,EP3GgB,YO6GhBR,EACFQ,EAAe,UACNrI,EAAS6H,GAClBQ,EAAe,SP/GC,UOgHPR,IACTQ,EAAe,SAGjBJ,EAAiBxB,EAASX,YAAcA,YAAc,GAAIqC,GAAc,GAAI,CAC1EG,UAAWC,IAAWlJ,EAAkByH,EAAY5G,IAAUkI,EAAc,GAAIlD,YAAgBkD,EAAa/I,EAAkByH,EAAY,GAAGrJ,OAAOyC,EAAQ,KAAKzC,OAAO4K,IAAgBA,GAAenD,YAAgBkD,EAAatB,EAAkC,kBAAfA,GAA0BsB,IAClRjK,MAAO2J,IACLI,QA/BFD,EADEF,EACetB,EAASX,YAAc,GAAIqC,GAAcD,IAChDhB,GAAiBc,EAAY1O,QACtBmN,EAASX,YAAcA,YAAc,GAAIqC,GAAc,GAAI,CAC1EG,UAAWlB,IACTc,GACKf,EACQV,EAASX,YAAcA,YAAc,GAAIqC,GAAc,GAAI,CAC1EhK,MAAO,CACLqK,QAAS,UAETN,GAEa,UAhBnBD,EAAiB,KAsCnB,OAAoBnL,gBAAoBiJ,EAAY,CAClD5M,IAAKoO,GACJU,MAGL,OADAlB,EAAU0B,YAAc,YACjB1B,EAEML,CAAaxH,G,iBCjIrB,SAASwJ,EAAgBnC,GAC9B,IAAIoC,EAUJ,OAPEA,EADEpC,GAAwB,WAAjBlN,YAAQkN,IAAqB,QAASA,EACtCA,EAEA,CACPA,IAAKA,GAIFT,YAAcA,YAAc,GAAI6C,GAAS,GAAI,CAClDpC,IAAKqC,OAAOD,EAAOpC,OAGhB,SAASsC,IACd,IAAIjK,EAAOnF,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAK,GAC/E,OAAOmF,EAAKkK,IAAIJ,GAEX,SAASK,IACd,IAAIC,EAAWvP,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAK,GAC/EwP,EAAcxP,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAK,GAClFyP,EAAO,GACPC,EAAe,EACfC,EAAaH,EAAYvP,OACzB2P,EAAiBR,EAAUG,GAC3BM,EAAoBT,EAAUI,GAElCI,EAAerP,SAAQ,SAAU2O,GAG/B,IAFA,IAAIY,GAAM,EAED9O,EAAI0O,EAAc1O,EAAI2O,EAAY3O,GAAK,EAAG,CACjD,IAAI+O,EAAgBF,EAAkB7O,GAEtC,GAAI+O,EAAcjD,MAAQoC,EAAOpC,IAAK,CAEhC4C,EAAe1O,IACjByO,EAAOA,EAAKzL,OAAO6L,EAAkBG,MAAMN,EAAc1O,GAAGqO,KAAI,SAAUY,GACxE,OAAO5D,YAAcA,YAAc,GAAI4D,GAAM,GAAI,CAC/CxJ,OA3CU,YA8CdiJ,EAAe1O,GAGjByO,EAAKS,KAAK7D,YAAcA,YAAc,GAAI0D,GAAgB,GAAI,CAC5DtJ,OAjDe,UAmDjBiJ,GAAgB,EAChBI,GAAM,EACN,OAKCA,GACHL,EAAKS,KAAK7D,YAAcA,YAAc,GAAI6C,GAAS,GAAI,CACrDzI,OA3DmB,eAgErBiJ,EAAeC,IACjBF,EAAOA,EAAKzL,OAAO6L,EAAkBG,MAAMN,GAAcL,KAAI,SAAUY,GACrE,OAAO5D,YAAcA,YAAc,GAAI4D,GAAM,GAAI,CAC/CxJ,OArEgB,aA+EtB,IAAItB,EAAO,GACXsK,EAAKlP,SAAQ,SAAU8H,GACrB,IAAIyE,EAAMzE,EAAKyE,IACf3H,EAAK2H,IAAQ3H,EAAK2H,IAAQ,GAAK,KAEjC,IAAIqD,EAAiBjL,OAAOC,KAAKA,GAAM7E,QAAO,SAAUwM,GACtD,OAAO3H,EAAK2H,GAAO,KAiBrB,OAfAqD,EAAe5P,SAAQ,SAAU6P,IAE/BX,EAAOA,EAAKnP,QAAO,SAAUgL,GAC3B,IAAIwB,EAAMxB,EAAMwB,IACZrG,EAAS6E,EAAM7E,OACnB,OAAOqG,IAAQsD,GA1FM,WA0FM3J,MAGxBlG,SAAQ,SAAUZ,GACjBA,EAAKmN,MAAQsD,IAEfzQ,EAAK8G,OAjGY,cAqGhBgJ,ECjGT,IAAIY,EAAY,CAAC,YAAa,WAAY,oBACtCC,EAAa,CAAC,UAOdC,EAAoB,CAAC,aAAc,UAAW,WAAY,aAAc,eAAgB,cAAe,cAAe,yBAA0B,iBAAkB,gBAAiB,kBAAmB,gBAAiB,iBAAkB,cAAe,eAAgB,gBAAiB,aAAc,eAAgB,gBAAiB,cAuH7TC,MAhHR,SAA0BrD,GAC/B,IAAIG,EAAYtN,UAAUC,OAAS,QAAsB0C,IAAjB3C,UAAU,GAAmBA,UAAU,GAAKyQ,EAEhFC,EAA6B,SAAUnE,GACzCC,YAAUkE,EAAenE,GAEzB,IAAIE,EAASC,YAAagE,GAE1B,SAASA,IACP,IAAIC,EAEJhE,YAAgBC,KAAM8D,GAEtB,IAAK,IAAI3Q,EAAOC,UAAUC,OAAQkD,EAAO,IAAIhD,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/E+C,EAAK/C,GAAQJ,UAAUI,GAsBzB,OAnBAuQ,EAAQlE,EAAOnH,KAAK1E,MAAM6L,EAAQ,CAACG,MAAM5I,OAAOb,KAC1CyN,MAAQ,CACZC,YAAa,IAGfF,EAAMG,UAAY,SAAUA,GAC1BH,EAAMI,UAAS,SAAU1I,GAEvB,MAAO,CACLwI,YAFgBxI,EAAKwI,YAEIxB,KAAI,SAAU2B,GACrC,OAAIA,EAAOlE,MAAQgE,EAAkBE,EAC9B3E,YAAcA,YAAc,GAAI2E,GAAS,GAAI,CAClDvK,OD9CY,oBCqDfkK,EAoET,OAjEA9D,YAAa6D,EAAe,CAAC,CAC3B5D,IAAK,SACLC,MAAO,WACL,IAAIkE,EAASrE,KAETiE,EAAcjE,KAAKgE,MAAMC,YAEzBK,EAActE,KAAKpJ,MACnB2N,EAAYD,EAAYC,UACxBnE,EAAWkE,EAAYlE,SACvBoE,EAAoBF,EAAYxH,iBAChC2H,EAAYC,YAAyBJ,EAAab,GAElDkB,EAAYJ,GAAa9N,WACzBmO,EAAc,GAMlB,OALAjB,EAAkBhQ,SAAQ,SAAUkR,GAClCD,EAAYC,GAAQJ,EAAUI,UACvBJ,EAAUI,aAEZJ,EAAUlM,KACG9B,gBAAoBkO,EAAWF,EAAWR,EAAYxB,KAAI,SAAU/D,GACtF,IAAI7E,EAAS6E,EAAM7E,OACfmH,EAAa0D,YAAyBhG,EAAOgF,GAE7CnI,EDnFU,QCmFA1B,GDlFC,SCkFwBA,EACvC,OAAoBpD,gBAAoBiK,EAAWoE,YAAS,GAAIF,EAAa,CAC3E1E,IAAKc,EAAWd,IAChB3E,QAASA,EACTyF,WAAYA,EACZlE,iBAAkB,SAA0BiI,GACpB,OAAtBP,QAAoD,IAAtBA,GAAwCA,EAAkBO,EAAgB,CACtG7E,IAAKc,EAAWd,MAGb6E,GACHV,EAAOH,UAAUlD,EAAWd,QAG9BE,UAGN,CAAC,CACHF,IAAK,2BACLC,MAAO,SAAkCxB,EAAOC,GAC9C,IAAIrG,EAAOoG,EAAMpG,KACb0L,EAAcrF,EAAMqF,YACpBe,EAAmBxC,EAAUjK,GAEjC,MAAO,CACL0L,YAFqBvB,EAASuB,EAAae,GAEbtR,QAAO,SAAU0Q,GAC7C,IAAIa,EAAahB,EAAYiB,MAAK,SAAUC,GAC1C,IAAIjF,EAAMiF,EAAMjF,IAChB,OAAOkE,EAAOlE,MAAQA,KAGxB,OAAI+E,GD/GY,YC+GEA,EAAWpL,QDhHd,WCgH2CuK,EAAOvK,eAUlEiK,EArGwB,CAsG/BrN,aAKF,OAHAqN,EAAcsB,aAAe,CAC3Bb,UAAW,OAENT,EAEMF,CAAiB/K,GCnIjB6H,O,iCCHf,sDAQe,SAAS3G,EAASsL,GAC/B,IAAIC,EAAa7O,UAAa,GAE1B8O,EAAkB9O,WAAe4O,GACjCG,EAAmBvL,YAAesL,EAAiB,GACnDpF,EAAQqF,EAAiB,GACzBC,EAAWD,EAAiB,GAgBhC,OAdA/O,aAAgB,WACd,OAAO,WACL6O,EAAWrS,SAAU,KAEtB,IAUI,CAACkN,EARR,SAAsBuF,EAASC,GACzBA,GAAiBL,EAAWrS,SAIhCwS,EAASC,O,iCC3Bb,uDAKe,SAASrE,EAAYtO,GAClC,OAAIA,aAAgBqO,YACXrO,EAGF6S,IAASvE,YAAYtO,K,kCCV9B,YAOA,IAAI8S,EAAW,WACX,GAAmB,qBAARpQ,IACP,OAAOA,IASX,SAASqQ,EAASC,EAAK7F,GACnB,IAAInF,GAAU,EAQd,OAPAgL,EAAIC,MAAK,SAAUC,EAAOrL,GACtB,OAAIqL,EAAM,KAAO/F,IACbnF,EAASH,GACF,MAIRG,EAEX,OAAsB,WAClB,SAASmL,IACLlG,KAAKmG,YAAc,GAuEvB,OArEA7N,OAAO8N,eAAeF,EAAQvR,UAAW,OAAQ,CAI7C0B,IAAK,WACD,OAAO2J,KAAKmG,YAAY9S,QAE5BgT,YAAY,EACZC,cAAc,IAMlBJ,EAAQvR,UAAU0B,IAAM,SAAU6J,GAC9B,IAAItF,EAAQkL,EAAS9F,KAAKmG,YAAajG,GACnC+F,EAAQjG,KAAKmG,YAAYvL,GAC7B,OAAOqL,GAASA,EAAM,IAO1BC,EAAQvR,UAAUwB,IAAM,SAAU+J,EAAKC,GACnC,IAAIvF,EAAQkL,EAAS9F,KAAKmG,YAAajG,IAClCtF,EACDoF,KAAKmG,YAAYvL,GAAO,GAAKuF,EAG7BH,KAAKmG,YAAY7C,KAAK,CAACpD,EAAKC,KAOpC+F,EAAQvR,UAAUiB,OAAS,SAAUsK,GACjC,IAAIqG,EAAUvG,KAAKmG,YACfvL,EAAQkL,EAASS,EAASrG,IACzBtF,GACD2L,EAAQC,OAAO5L,EAAO,IAO9BsL,EAAQvR,UAAU8R,IAAM,SAAUvG,GAC9B,SAAU4F,EAAS9F,KAAKmG,YAAajG,IAKzCgG,EAAQvR,UAAU+R,MAAQ,WACtB1G,KAAKmG,YAAYK,OAAO,IAO5BN,EAAQvR,UAAUhB,QAAU,SAAUmB,EAAU6R,QAChC,IAARA,IAAkBA,EAAM,MAC5B,IAAK,IAAIC,EAAK,EAAGC,EAAK7G,KAAKmG,YAAaS,EAAKC,EAAGxT,OAAQuT,IAAM,CAC1D,IAAIX,EAAQY,EAAGD,GACf9R,EAAS4D,KAAKiO,EAAKV,EAAM,GAAIA,EAAM,MAGpCC,EAzEX,GAtBW,GAsGXY,EAA8B,qBAAX3R,QAA8C,qBAAb6C,UAA4B7C,OAAO6C,WAAaA,SAGpG+O,EACsB,qBAAXC,GAA0BA,EAAOC,OAASA,KAC1CD,EAES,qBAATE,MAAwBA,KAAKD,OAASA,KACtCC,KAEW,qBAAX/R,QAA0BA,OAAO8R,OAASA,KAC1C9R,OAGJgS,SAAS,cAATA,GASPC,EACqC,oBAA1BhS,sBAIAA,sBAAsBiS,KAAKN,GAE/B,SAAUjS,GAAY,OAAOC,YAAW,WAAc,OAAOD,EAASwS,KAAKC,SAAW,IAAO,KAqExG,IAGIC,EAAiB,CAAC,MAAO,QAAS,SAAU,OAAQ,QAAS,SAAU,OAAQ,UAE/EC,EAAwD,qBAArBC,iBAInCC,EAA0C,WAM1C,SAASA,IAML3H,KAAK4H,YAAa,EAMlB5H,KAAK6H,sBAAuB,EAM5B7H,KAAK8H,mBAAqB,KAM1B9H,KAAK+H,WAAa,GAClB/H,KAAKgI,iBAAmBhI,KAAKgI,iBAAiBX,KAAKrH,MACnDA,KAAKiI,QAjGb,SAAmBnT,EAAUyF,GACzB,IAAI2N,GAAc,EAAOC,GAAe,EAAOC,EAAe,EAO9D,SAASC,IACDH,IACAA,GAAc,EACdpT,KAEAqT,GACAG,IAUR,SAASC,IACLnB,EAAwBiB,GAO5B,SAASC,IACL,IAAIE,EAAYlB,KAAKC,MACrB,GAAIW,EAAa,CAEb,GAAIM,EAAYJ,EA7CN,EA8CN,OAMJD,GAAe,OAGfD,GAAc,EACdC,GAAe,EACfpT,WAAWwT,EAAiBhO,GAEhC6N,EAAeI,EAEnB,OAAOF,EA6CYG,CAASzI,KAAKiI,QAAQZ,KAAKrH,MAzC9B,IAyMhB,OAxJA2H,EAAyBhT,UAAU+T,YAAc,SAAUC,IACjD3I,KAAK+H,WAAWlN,QAAQ8N,IAC1B3I,KAAK+H,WAAWzE,KAAKqF,GAGpB3I,KAAK4H,YACN5H,KAAK4I,YASbjB,EAAyBhT,UAAUkU,eAAiB,SAAUF,GAC1D,IAAIG,EAAY9I,KAAK+H,WACjBnN,EAAQkO,EAAUjO,QAAQ8N,IAEzB/N,GACDkO,EAAUtC,OAAO5L,EAAO,IAGvBkO,EAAUzV,QAAU2M,KAAK4H,YAC1B5H,KAAK+I,eASbpB,EAAyBhT,UAAUsT,QAAU,WACnBjI,KAAKgJ,oBAIvBhJ,KAAKiI,WAWbN,EAAyBhT,UAAUqU,iBAAmB,WAElD,IAAIC,EAAkBjJ,KAAK+H,WAAWrU,QAAO,SAAUiV,GACnD,OAAOA,EAASO,eAAgBP,EAASQ,eAQ7C,OADAF,EAAgBtV,SAAQ,SAAUgV,GAAY,OAAOA,EAASS,qBACvDH,EAAgB5V,OAAS,GAQpCsU,EAAyBhT,UAAUiU,SAAW,WAGrC9B,IAAa9G,KAAK4H,aAMvB5P,SAASsG,iBAAiB,gBAAiB0B,KAAKgI,kBAChD7S,OAAOmJ,iBAAiB,SAAU0B,KAAKiI,SACnCR,GACAzH,KAAK8H,mBAAqB,IAAIJ,iBAAiB1H,KAAKiI,SACpDjI,KAAK8H,mBAAmBuB,QAAQrR,SAAU,CACtCsR,YAAY,EACZC,WAAW,EACXC,eAAe,EACfC,SAAS,MAIbzR,SAASsG,iBAAiB,qBAAsB0B,KAAKiI,SACrDjI,KAAK6H,sBAAuB,GAEhC7H,KAAK4H,YAAa,IAQtBD,EAAyBhT,UAAUoU,YAAc,WAGxCjC,GAAc9G,KAAK4H,aAGxB5P,SAASqG,oBAAoB,gBAAiB2B,KAAKgI,kBACnD7S,OAAOkJ,oBAAoB,SAAU2B,KAAKiI,SACtCjI,KAAK8H,oBACL9H,KAAK8H,mBAAmB4B,aAExB1J,KAAK6H,sBACL7P,SAASqG,oBAAoB,qBAAsB2B,KAAKiI,SAE5DjI,KAAK8H,mBAAqB,KAC1B9H,KAAK6H,sBAAuB,EAC5B7H,KAAK4H,YAAa,IAStBD,EAAyBhT,UAAUqT,iBAAmB,SAAUnB,GAC5D,IAAI8C,EAAK9C,EAAG+C,aAAcA,OAAsB,IAAPD,EAAgB,GAAKA,EAEvCnC,EAAexB,MAAK,SAAU9F,GACjD,SAAU0J,EAAa/O,QAAQqF,OAG/BF,KAAKiI,WAQbN,EAAyBkC,YAAc,WAInC,OAHK7J,KAAK8J,YACN9J,KAAK8J,UAAY,IAAInC,GAElB3H,KAAK8J,WAOhBnC,EAAyBmC,UAAY,KAC9BnC,EAhMmC,GA0M1CoC,EAAsB,SAAU9L,EAAQrH,GACxC,IAAK,IAAIgQ,EAAK,EAAGC,EAAKvO,OAAOC,KAAK3B,GAAQgQ,EAAKC,EAAGxT,OAAQuT,IAAM,CAC5D,IAAI1G,EAAM2G,EAAGD,GACbtO,OAAO8N,eAAenI,EAAQiC,EAAK,CAC/BC,MAAOvJ,EAAMsJ,GACbmG,YAAY,EACZ2D,UAAU,EACV1D,cAAc,IAGtB,OAAOrI,GASPgM,EAAe,SAAUhM,GAOzB,OAHkBA,GAAUA,EAAOiM,eAAiBjM,EAAOiM,cAAcC,aAGnDpD,GAItBqD,EAAYC,EAAe,EAAG,EAAG,EAAG,GAOxC,SAASC,EAAQnK,GACb,OAAOoK,WAAWpK,IAAU,EAShC,SAASqK,EAAeC,GAEpB,IADA,IAAIC,EAAY,GACP9D,EAAK,EAAGA,EAAKxT,UAAUC,OAAQuT,IACpC8D,EAAU9D,EAAK,GAAKxT,UAAUwT,GAElC,OAAO8D,EAAUC,QAAO,SAAUC,EAAMC,GAEpC,OAAOD,EAAON,EADFG,EAAO,UAAYI,EAAW,aAE3C,GAmCP,SAASC,EAA0B7M,GAG/B,IAAI8M,EAAc9M,EAAO8M,YAAaC,EAAe/M,EAAO+M,aAS5D,IAAKD,IAAgBC,EACjB,OAAOZ,EAEX,IAAIK,EAASR,EAAYhM,GAAQgN,iBAAiBhN,GAC9CiN,EA3CR,SAAqBT,GAGjB,IAFA,IACIS,EAAW,GACNtE,EAAK,EAAGuE,EAFD,CAAC,MAAO,QAAS,SAAU,QAEDvE,EAAKuE,EAAY9X,OAAQuT,IAAM,CACrE,IAAIiE,EAAWM,EAAYvE,GACvBzG,EAAQsK,EAAO,WAAaI,GAChCK,EAASL,GAAYP,EAAQnK,GAEjC,OAAO+K,EAmCQE,CAAYX,GACvBY,EAAWH,EAASI,KAAOJ,EAASK,MACpCC,EAAUN,EAASO,IAAMP,EAASQ,OAKlCC,EAAQrB,EAAQG,EAAOkB,OAAQC,EAAStB,EAAQG,EAAOmB,QAqB3D,GAlByB,eAArBnB,EAAOoB,YAOH5E,KAAK6E,MAAMH,EAAQN,KAAcN,IACjCY,GAASnB,EAAeC,EAAQ,OAAQ,SAAWY,GAEnDpE,KAAK6E,MAAMF,EAASJ,KAAaR,IACjCY,GAAUpB,EAAeC,EAAQ,MAAO,UAAYe,KAoDhE,SAA2BvN,GACvB,OAAOA,IAAWgM,EAAYhM,GAAQjG,SAAS+T,gBA9C1CC,CAAkB/N,GAAS,CAK5B,IAAIgO,EAAgBhF,KAAK6E,MAAMH,EAAQN,GAAYN,EAC/CmB,EAAiBjF,KAAK6E,MAAMF,EAASJ,GAAWR,EAMpB,IAA5B/D,KAAKkF,IAAIF,KACTN,GAASM,GAEoB,IAA7BhF,KAAKkF,IAAID,KACTN,GAAUM,GAGlB,OAAO7B,EAAea,EAASI,KAAMJ,EAASO,IAAKE,EAAOC,GAQ9D,IAAIQ,EAGkC,qBAAvBC,mBACA,SAAUpO,GAAU,OAAOA,aAAkBgM,EAAYhM,GAAQoO,oBAKrE,SAAUpO,GAAU,OAAQA,aAAkBgM,EAAYhM,GAAQqO,YAC3C,oBAAnBrO,EAAOsO,SAiBtB,SAASC,EAAevO,GACpB,OAAK6I,EAGDsF,EAAqBnO,GAhH7B,SAA2BA,GACvB,IAAIwO,EAAOxO,EAAOsO,UAClB,OAAOlC,EAAe,EAAG,EAAGoC,EAAKd,MAAOc,EAAKb,QA+GlCc,CAAkBzO,GAEtB6M,EAA0B7M,GALtBmM,EAuCf,SAASC,EAAesC,EAAGC,EAAGjB,EAAOC,GACjC,MAAO,CAAEe,EAAGA,EAAGC,EAAGA,EAAGjB,MAAOA,EAAOC,OAAQA,GAO/C,IAAIiB,EAAmC,WAMnC,SAASA,EAAkB5O,GAMvB+B,KAAK8M,eAAiB,EAMtB9M,KAAK+M,gBAAkB,EAMvB/M,KAAKgN,aAAe3C,EAAe,EAAG,EAAG,EAAG,GAC5CrK,KAAK/B,OAASA,EA0BlB,OAlBA4O,EAAkBlY,UAAUgF,SAAW,WACnC,IAAIsT,EAAOT,EAAexM,KAAK/B,QAE/B,OADA+B,KAAKgN,aAAeC,EACZA,EAAKtB,QAAU3L,KAAK8M,gBACxBG,EAAKrB,SAAW5L,KAAK+M,iBAQ7BF,EAAkBlY,UAAUuY,cAAgB,WACxC,IAAID,EAAOjN,KAAKgN,aAGhB,OAFAhN,KAAK8M,eAAiBG,EAAKtB,MAC3B3L,KAAK+M,gBAAkBE,EAAKrB,OACrBqB,GAEJJ,EAnD4B,GAsDnCM,EAOA,SAA6BlP,EAAQmP,GACjC,IAAIC,EA/FZ,SAA4BxG,GACxB,IAAI8F,EAAI9F,EAAG8F,EAAGC,EAAI/F,EAAG+F,EAAGjB,EAAQ9E,EAAG8E,MAAOC,EAAS/E,EAAG+E,OAElD0B,EAAoC,qBAApBC,gBAAkCA,gBAAkBjV,OACpE2U,EAAO3U,OAAOkV,OAAOF,EAAO3Y,WAShC,OAPAoV,EAAmBkD,EAAM,CACrBN,EAAGA,EAAGC,EAAGA,EAAGjB,MAAOA,EAAOC,OAAQA,EAClCH,IAAKmB,EACLrB,MAAOoB,EAAIhB,EACXD,OAAQE,EAASgB,EACjBtB,KAAMqB,IAEHM,EAkFeQ,CAAmBL,GAOrCrD,EAAmB/J,KAAM,CAAE/B,OAAQA,EAAQoP,YAAaA,KAK5DK,EAAmC,WAWnC,SAASA,EAAkB5Y,EAAU6Y,EAAYC,GAc7C,GAPA5N,KAAK6N,oBAAsB,GAM3B7N,KAAK8N,cAAgB,IAAIjI,EACD,oBAAb/Q,EACP,MAAM,IAAIiZ,UAAU,2DAExB/N,KAAKgO,UAAYlZ,EACjBkL,KAAKiO,YAAcN,EACnB3N,KAAKkO,aAAeN,EAoHxB,OA5GAF,EAAkB/Y,UAAU0U,QAAU,SAAUpL,GAC5C,IAAK7K,UAAUC,OACX,MAAM,IAAI0a,UAAU,4CAGxB,GAAuB,qBAAZI,SAA6BA,mBAAmB7V,OAA3D,CAGA,KAAM2F,aAAkBgM,EAAYhM,GAAQkQ,SACxC,MAAM,IAAIJ,UAAU,yCAExB,IAAIK,EAAepO,KAAK8N,cAEpBM,EAAa3H,IAAIxI,KAGrBmQ,EAAajY,IAAI8H,EAAQ,IAAI4O,EAAkB5O,IAC/C+B,KAAKiO,YAAYvF,YAAY1I,MAE7BA,KAAKiO,YAAYhG,aAQrByF,EAAkB/Y,UAAU0Z,UAAY,SAAUpQ,GAC9C,IAAK7K,UAAUC,OACX,MAAM,IAAI0a,UAAU,4CAGxB,GAAuB,qBAAZI,SAA6BA,mBAAmB7V,OAA3D,CAGA,KAAM2F,aAAkBgM,EAAYhM,GAAQkQ,SACxC,MAAM,IAAIJ,UAAU,yCAExB,IAAIK,EAAepO,KAAK8N,cAEnBM,EAAa3H,IAAIxI,KAGtBmQ,EAAaxY,OAAOqI,GACfmQ,EAAaxD,MACd5K,KAAKiO,YAAYpF,eAAe7I,SAQxC0N,EAAkB/Y,UAAU+U,WAAa,WACrC1J,KAAKsO,cACLtO,KAAK8N,cAAcpH,QACnB1G,KAAKiO,YAAYpF,eAAe7I,OAQpC0N,EAAkB/Y,UAAUuU,aAAe,WACvC,IAAInF,EAAQ/D,KACZA,KAAKsO,cACLtO,KAAK8N,cAAcna,SAAQ,SAAU4a,GAC7BA,EAAY5U,YACZoK,EAAM8J,oBAAoBvK,KAAKiL,OAU3Cb,EAAkB/Y,UAAUyU,gBAAkB,WAE1C,GAAKpJ,KAAKmJ,YAAV,CAGA,IAAIxC,EAAM3G,KAAKkO,aAEX3H,EAAUvG,KAAK6N,oBAAoBpL,KAAI,SAAU8L,GACjD,OAAO,IAAIpB,EAAoBoB,EAAYtQ,OAAQsQ,EAAYrB,oBAEnElN,KAAKgO,UAAUtV,KAAKiO,EAAKJ,EAASI,GAClC3G,KAAKsO,gBAOTZ,EAAkB/Y,UAAU2Z,YAAc,WACtCtO,KAAK6N,oBAAoBrH,OAAO,IAOpCkH,EAAkB/Y,UAAUwU,UAAY,WACpC,OAAOnJ,KAAK6N,oBAAoBxa,OAAS,GAEtCqa,EAlJ4B,GAwJnC5E,EAA+B,qBAAZ0F,QAA0B,IAAIA,QAAY,IAAI3I,EAKjE4I,EAOA,SAASA,EAAe3Z,GACpB,KAAMkL,gBAAgByO,GAClB,MAAM,IAAIV,UAAU,sCAExB,IAAK3a,UAAUC,OACX,MAAM,IAAI0a,UAAU,4CAExB,IAAIJ,EAAahG,EAAyBkC,cACtClB,EAAW,IAAI+E,EAAkB5Y,EAAU6Y,EAAY3N,MAC3D8I,EAAU3S,IAAI6J,KAAM2I,IAK5B,CACI,UACA,YACA,cACFhV,SAAQ,SAAU+a,GAChBD,EAAe9Z,UAAU+Z,GAAU,WAC/B,IAAI7H,EACJ,OAAQA,EAAKiC,EAAUzS,IAAI2J,OAAO0O,GAAQ1a,MAAM6S,EAAIzT,eAI5D,IAAIwH,EAEuC,qBAA5BmM,EAAS0H,eACT1H,EAAS0H,eAEbA,EAGI7T,Q,mDC/5Bf,6CACe,SAAS7G,EAAQ4a,EAAUC,EAAWC,GACnD,IAAIC,EAAWrY,SAAa,IAO5B,MALM,UAAWqY,EAAS7b,UAAY4b,EAAaC,EAAS7b,QAAQ2b,UAAWA,KAC7EE,EAAS7b,QAAQkN,MAAQwO,IACzBG,EAAS7b,QAAQ2b,UAAYA,GAGxBE,EAAS7b,QAAQkN","file":"static/js/2.5c976b4e.chunk.js","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { isMemo } from 'react-is';\nimport useMemo from './hooks/useMemo';\nexport function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (_typeof(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\n/**\n * Merge refs into one ref function to support ref passing.\n */\n\nexport function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  var refList = refs.filter(function (ref) {\n    return ref;\n  });\n\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}\nexport function useComposeRef() {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n\n  return useMemo(function () {\n    return composeRef.apply(void 0, refs);\n  }, refs, function (prev, next) {\n    return prev.length === next.length && prev.every(function (ref, i) {\n      return ref === next[i];\n    });\n  });\n}\nexport function supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n\n  var type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type; // Function component node\n\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) === null || _type$prototype === void 0 ? void 0 : _type$prototype.render)) {\n    return false;\n  } // Class component\n\n\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) === null || _nodeOrComponent$prot === void 0 ? void 0 : _nodeOrComponent$prot.render)) {\n    return false;\n  }\n\n  return true;\n}\n/* eslint-enable */","var raf = function raf(callback) {\n  return +setTimeout(callback, 16);\n};\n\nvar caf = function caf(num) {\n  return clearTimeout(num);\n};\n\nif (typeof window !== 'undefined' && 'requestAnimationFrame' in window) {\n  raf = function raf(callback) {\n    return window.requestAnimationFrame(callback);\n  };\n\n  caf = function caf(handle) {\n    return window.cancelAnimationFrame(handle);\n  };\n}\n\nvar rafUUID = 0;\nvar rafIds = new Map();\n\nfunction cleanup(id) {\n  rafIds.delete(id);\n}\n\nexport default function wrapperRaf(callback) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  rafUUID += 1;\n  var id = rafUUID;\n\n  function callRef(leftTimes) {\n    if (leftTimes === 0) {\n      // Clean up\n      cleanup(id); // Trigger\n\n      callback();\n    } else {\n      // Next raf\n      var realId = raf(function () {\n        callRef(leftTimes - 1);\n      }); // Bind real raf id\n\n      rafIds.set(id, realId);\n    }\n  }\n\n  callRef(times);\n  return id;\n}\n\nwrapperRaf.cancel = function (id) {\n  var realId = rafIds.get(id);\n  cleanup(realId);\n  return caf(realId);\n};","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport canUseDOM from \"rc-util/es/Dom/canUseDom\"; // ================= Transition =================\n// Event wrapper. Copy from react source code\n\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\".concat(styleProp)] = \"webkit\".concat(eventName);\n  prefixes[\"Moz\".concat(styleProp)] = \"moz\".concat(eventName);\n  prefixes[\"ms\".concat(styleProp)] = \"MS\".concat(eventName);\n  prefixes[\"O\".concat(styleProp)] = \"o\".concat(eventName.toLowerCase());\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\nvar vendorPrefixes = getVendorPrefixes(canUseDOM(), typeof window !== 'undefined' ? window : {});\nvar style = {};\n\nif (canUseDOM()) {\n  var _document$createEleme = document.createElement('div');\n\n  style = _document$createEleme.style;\n}\n\nvar prefixedEventNames = {};\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\nvar internalAnimationEndName = getVendorPrefixedEventName('animationend');\nvar internalTransitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(internalAnimationEndName && internalTransitionEndName);\nexport var animationEndName = internalAnimationEndName || 'animationend';\nexport var transitionEndName = internalTransitionEndName || 'transitionend';\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (_typeof(transitionName) === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return \"\".concat(transitionName, \"-\").concat(transitionType);\n}","export var STATUS_NONE = 'none';\nexport var STATUS_APPEAR = 'appear';\nexport var STATUS_ENTER = 'enter';\nexport var STATUS_LEAVE = 'leave';\nexport var STEP_NONE = 'none';\nexport var STEP_PREPARE = 'prepare';\nexport var STEP_START = 'start';\nexport var STEP_ACTIVE = 'active';\nexport var STEP_ACTIVATED = 'end';","import { useEffect, useLayoutEffect } from 'react';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\"; // It's safe to use `useLayoutEffect` but the warning is annoying\n\nvar useIsomorphicLayoutEffect = canUseDom() ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport { STEP_PREPARE, STEP_ACTIVE, STEP_START, STEP_ACTIVATED, STEP_NONE } from '../interface';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useNextFrame from './useNextFrame';\nvar STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];\n/** Skip current step */\n\nexport var SkipStep = false;\n/** Current step should be update in */\n\nexport var DoStep = true;\nexport function isActive(step) {\n  return step === STEP_ACTIVE || step === STEP_ACTIVATED;\n}\nexport default (function (status, callback) {\n  var _useState = useState(STEP_NONE),\n      _useState2 = _slicedToArray(_useState, 2),\n      step = _useState2[0],\n      setStep = _useState2[1];\n\n  var _useNextFrame = useNextFrame(),\n      _useNextFrame2 = _slicedToArray(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(STEP_PREPARE, true);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep, true);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep, true);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n});","import * as React from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default (function () {\n  var nextFrameRef = React.useRef(null);\n\n  function cancelNextFrame() {\n    raf.cancel(nextFrameRef.current);\n  }\n\n  function nextFrame(callback) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    cancelNextFrame();\n    var nextFrameId = raf(function () {\n      if (delay <= 1) {\n        callback({\n          isCanceled: function isCanceled() {\n            return nextFrameId !== nextFrameRef.current;\n          }\n        });\n      } else {\n        nextFrame(callback, delay - 1);\n      }\n    });\n    nextFrameRef.current = nextFrameId;\n  }\n\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [nextFrame, cancelNextFrame];\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect } from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport { STATUS_APPEAR, STATUS_NONE, STATUS_LEAVE, STATUS_ENTER, STEP_PREPARE, STEP_START, STEP_ACTIVE } from '../interface';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useStepQueue, { DoStep, SkipStep, isActive } from './useStepQueue';\nimport useDomMotionEvents from './useDomMotionEvents';\nexport default function useStatus(supportMotion, visible, getElement, _ref) {\n  var _ref$motionEnter = _ref.motionEnter,\n      motionEnter = _ref$motionEnter === void 0 ? true : _ref$motionEnter,\n      _ref$motionAppear = _ref.motionAppear,\n      motionAppear = _ref$motionAppear === void 0 ? true : _ref$motionAppear,\n      _ref$motionLeave = _ref.motionLeave,\n      motionLeave = _ref$motionLeave === void 0 ? true : _ref$motionLeave,\n      motionDeadline = _ref.motionDeadline,\n      motionLeaveImmediately = _ref.motionLeaveImmediately,\n      onAppearPrepare = _ref.onAppearPrepare,\n      onEnterPrepare = _ref.onEnterPrepare,\n      onLeavePrepare = _ref.onLeavePrepare,\n      onAppearStart = _ref.onAppearStart,\n      onEnterStart = _ref.onEnterStart,\n      onLeaveStart = _ref.onLeaveStart,\n      onAppearActive = _ref.onAppearActive,\n      onEnterActive = _ref.onEnterActive,\n      onLeaveActive = _ref.onLeaveActive,\n      onAppearEnd = _ref.onAppearEnd,\n      onEnterEnd = _ref.onEnterEnd,\n      onLeaveEnd = _ref.onLeaveEnd,\n      onVisibleChanged = _ref.onVisibleChanged;\n\n  // Used for outer render usage to avoid `visible: false & status: none` to render nothing\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      asyncVisible = _useState2[0],\n      setAsyncVisible = _useState2[1];\n\n  var _useState3 = useState(STATUS_NONE),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      style = _useState6[0],\n      setStyle = _useState6[1];\n\n  var mountedRef = useRef(false);\n  var deadlineRef = useRef(null); // =========================== Dom Node ===========================\n\n  var cacheElementRef = useRef(null);\n\n  function getDomElement() {\n    var element = getElement();\n    return element || cacheElementRef.current;\n  } // ========================== Motion End ==========================\n\n\n  var activeRef = useRef(false);\n\n  function onInternalMotionEnd(event) {\n    var element = getDomElement();\n\n    if (event && !event.deadline && event.target !== element) {\n      // event exists\n      // not initiated by deadline\n      // transitionEnd not fired by inner elements\n      return;\n    }\n\n    var canEnd;\n\n    if (status === STATUS_APPEAR && activeRef.current) {\n      canEnd = onAppearEnd === null || onAppearEnd === void 0 ? void 0 : onAppearEnd(element, event);\n    } else if (status === STATUS_ENTER && activeRef.current) {\n      canEnd = onEnterEnd === null || onEnterEnd === void 0 ? void 0 : onEnterEnd(element, event);\n    } else if (status === STATUS_LEAVE && activeRef.current) {\n      canEnd = onLeaveEnd === null || onLeaveEnd === void 0 ? void 0 : onLeaveEnd(element, event);\n    } // Only update status when `canEnd` and not destroyed\n\n\n    if (canEnd !== false) {\n      setStatus(STATUS_NONE, true);\n      setStyle(null, true);\n    }\n  }\n\n  var _useDomMotionEvents = useDomMotionEvents(onInternalMotionEnd),\n      _useDomMotionEvents2 = _slicedToArray(_useDomMotionEvents, 1),\n      patchMotionEvents = _useDomMotionEvents2[0]; // ============================= Step =============================\n\n\n  var eventHandlers = React.useMemo(function () {\n    var _ref2, _ref3, _ref4;\n\n    switch (status) {\n      case STATUS_APPEAR:\n        return _ref2 = {}, _defineProperty(_ref2, STEP_PREPARE, onAppearPrepare), _defineProperty(_ref2, STEP_START, onAppearStart), _defineProperty(_ref2, STEP_ACTIVE, onAppearActive), _ref2;\n\n      case STATUS_ENTER:\n        return _ref3 = {}, _defineProperty(_ref3, STEP_PREPARE, onEnterPrepare), _defineProperty(_ref3, STEP_START, onEnterStart), _defineProperty(_ref3, STEP_ACTIVE, onEnterActive), _ref3;\n\n      case STATUS_LEAVE:\n        return _ref4 = {}, _defineProperty(_ref4, STEP_PREPARE, onLeavePrepare), _defineProperty(_ref4, STEP_START, onLeaveStart), _defineProperty(_ref4, STEP_ACTIVE, onLeaveActive), _ref4;\n\n      default:\n        return {};\n    }\n  }, [status]);\n\n  var _useStepQueue = useStepQueue(status, function (newStep) {\n    // Only prepare step can be skip\n    if (newStep === STEP_PREPARE) {\n      var onPrepare = eventHandlers[STEP_PREPARE];\n\n      if (!onPrepare) {\n        return SkipStep;\n      }\n\n      return onPrepare(getDomElement());\n    } // Rest step is sync update\n\n\n    // Rest step is sync update\n    if (step in eventHandlers) {\n      var _eventHandlers$step;\n\n      setStyle(((_eventHandlers$step = eventHandlers[step]) === null || _eventHandlers$step === void 0 ? void 0 : _eventHandlers$step.call(eventHandlers, getDomElement(), null)) || null);\n    }\n\n    if (step === STEP_ACTIVE) {\n      // Patch events when motion needed\n      patchMotionEvents(getDomElement());\n\n      if (motionDeadline > 0) {\n        clearTimeout(deadlineRef.current);\n        deadlineRef.current = setTimeout(function () {\n          onInternalMotionEnd({\n            deadline: true\n          });\n        }, motionDeadline);\n      }\n    }\n\n    return DoStep;\n  }),\n      _useStepQueue2 = _slicedToArray(_useStepQueue, 2),\n      startStep = _useStepQueue2[0],\n      step = _useStepQueue2[1];\n\n  var active = isActive(step);\n  activeRef.current = active; // ============================ Status ============================\n  // Update with new status\n\n  useIsomorphicLayoutEffect(function () {\n    setAsyncVisible(visible);\n    var isMounted = mountedRef.current;\n    mountedRef.current = true;\n\n    if (!supportMotion) {\n      return;\n    }\n\n    var nextStatus; // Appear\n\n    if (!isMounted && visible && motionAppear) {\n      nextStatus = STATUS_APPEAR;\n    } // Enter\n\n\n    if (isMounted && visible && motionEnter) {\n      nextStatus = STATUS_ENTER;\n    } // Leave\n\n\n    if (isMounted && !visible && motionLeave || !isMounted && motionLeaveImmediately && !visible && motionLeave) {\n      nextStatus = STATUS_LEAVE;\n    } // Update to next status\n\n\n    if (nextStatus) {\n      setStatus(nextStatus);\n      startStep();\n    }\n  }, [visible]); // ============================ Effect ============================\n  // Reset when motion changed\n\n  useEffect(function () {\n    if ( // Cancel appear\n    status === STATUS_APPEAR && !motionAppear || // Cancel enter\n    status === STATUS_ENTER && !motionEnter || // Cancel leave\n    status === STATUS_LEAVE && !motionLeave) {\n      setStatus(STATUS_NONE);\n    }\n  }, [motionAppear, motionEnter, motionLeave]);\n  useEffect(function () {\n    return function () {\n      clearTimeout(deadlineRef.current);\n    };\n  }, []); // Trigger `onVisibleChanged`\n\n  useEffect(function () {\n    if (asyncVisible !== undefined && status === STATUS_NONE) {\n      onVisibleChanged === null || onVisibleChanged === void 0 ? void 0 : onVisibleChanged(asyncVisible);\n    }\n  }, [asyncVisible, status]); // ============================ Styles ============================\n\n  var mergedStyle = style;\n\n  if (eventHandlers[STEP_PREPARE] && step === STEP_START) {\n    mergedStyle = _objectSpread({\n      transition: 'none'\n    }, mergedStyle);\n  }\n\n  return [status, step, mergedStyle, asyncVisible !== null && asyncVisible !== void 0 ? asyncVisible : visible];\n}","import * as React from 'react';\nimport { useRef } from 'react';\nimport { animationEndName, transitionEndName } from '../util/motion';\nexport default (function (callback) {\n  var cacheElementRef = useRef(); // Cache callback\n\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback; // Internal motion event handler\n\n  var onInternalMotionEnd = React.useCallback(function (event) {\n    callbackRef.current(event);\n  }, []); // Remove events\n\n  function removeMotionEvents(element) {\n    if (element) {\n      element.removeEventListener(transitionEndName, onInternalMotionEnd);\n      element.removeEventListener(animationEndName, onInternalMotionEnd);\n    }\n  } // Patch events\n\n\n  function patchMotionEvents(element) {\n    if (cacheElementRef.current && cacheElementRef.current !== element) {\n      removeMotionEvents(cacheElementRef.current);\n    }\n\n    if (element && element !== cacheElementRef.current) {\n      element.addEventListener(transitionEndName, onInternalMotionEnd);\n      element.addEventListener(animationEndName, onInternalMotionEnd); // Save as cache in case dom removed trigger by `motionDeadline`\n\n      cacheElementRef.current = element;\n    }\n  } // Clean up when removed\n\n\n  React.useEffect(function () {\n    return function () {\n      removeMotionEvents(cacheElementRef.current);\n    };\n  }, []);\n  return [patchMotionEvents, removeMotionEvents];\n});","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\n\nvar DomWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(DomWrapper, _React$Component);\n\n  var _super = _createSuper(DomWrapper);\n\n  function DomWrapper() {\n    _classCallCheck(this, DomWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DomWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return DomWrapper;\n}(React.Component);\n\nexport default DomWrapper;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { fillRef } from \"rc-util/es/ref\";\nimport classNames from 'classnames';\nimport { getTransitionName, supportTransition } from './util/motion';\nimport { STATUS_NONE, STEP_PREPARE, STEP_START } from './interface';\nimport useStatus from './hooks/useStatus';\nimport DomWrapper from './DomWrapper';\nimport { isActive } from './hooks/useStepQueue';\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\n\nexport function genCSSMotion(config) {\n  var transitionSupport = config;\n\n  if (_typeof(config) === 'object') {\n    transitionSupport = config.transitionSupport;\n  }\n\n  function isSupportTransition(props) {\n    return !!(props.motionName && transitionSupport);\n  }\n\n  var CSSMotion = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$visible = props.visible,\n        visible = _props$visible === void 0 ? true : _props$visible,\n        _props$removeOnLeave = props.removeOnLeave,\n        removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave,\n        forceRender = props.forceRender,\n        children = props.children,\n        motionName = props.motionName,\n        leavedClassName = props.leavedClassName,\n        eventProps = props.eventProps;\n    var supportMotion = isSupportTransition(props); // Ref to the react node, it may be a HTMLElement\n\n    var nodeRef = useRef(); // Ref to the dom wrapper in case ref can not pass to HTMLElement\n\n    var wrapperNodeRef = useRef();\n\n    function getDomElement() {\n      try {\n        // Here we're avoiding call for findDOMNode since it's deprecated\n        // in strict mode. We're calling it only when node ref is not\n        // an instance of DOM HTMLElement. Otherwise use\n        // findDOMNode as a final resort\n        return nodeRef.current instanceof HTMLElement ? nodeRef.current : findDOMNode(wrapperNodeRef.current);\n      } catch (e) {\n        // Only happen when `motionDeadline` trigger but element removed.\n        return null;\n      }\n    }\n\n    var _useStatus = useStatus(supportMotion, visible, getDomElement, props),\n        _useStatus2 = _slicedToArray(_useStatus, 4),\n        status = _useStatus2[0],\n        statusStep = _useStatus2[1],\n        statusStyle = _useStatus2[2],\n        mergedVisible = _useStatus2[3]; // Record whether content has rendered\n    // Will return null for un-rendered even when `removeOnLeave={false}`\n\n\n    var renderedRef = React.useRef(mergedVisible);\n\n    if (mergedVisible) {\n      renderedRef.current = true;\n    } // ====================== Refs ======================\n\n\n    var setNodeRef = React.useCallback(function (node) {\n      nodeRef.current = node;\n      fillRef(ref, node);\n    }, []); // ===================== Render =====================\n\n    var motionChildren;\n\n    var mergedProps = _objectSpread(_objectSpread({}, eventProps), {}, {\n      visible: visible\n    });\n\n    if (!children) {\n      // No children\n      motionChildren = null;\n    } else if (status === STATUS_NONE || !isSupportTransition(props)) {\n      // Stable children\n      if (mergedVisible) {\n        motionChildren = children(_objectSpread({}, mergedProps), setNodeRef);\n      } else if (!removeOnLeave && renderedRef.current) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          className: leavedClassName\n        }), setNodeRef);\n      } else if (forceRender) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          style: {\n            display: 'none'\n          }\n        }), setNodeRef);\n      } else {\n        motionChildren = null;\n      }\n    } else {\n      var _classNames;\n\n      // In motion\n      var statusSuffix;\n\n      if (statusStep === STEP_PREPARE) {\n        statusSuffix = 'prepare';\n      } else if (isActive(statusStep)) {\n        statusSuffix = 'active';\n      } else if (statusStep === STEP_START) {\n        statusSuffix = 'start';\n      }\n\n      motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n        className: classNames(getTransitionName(motionName, status), (_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, \"\".concat(status, \"-\").concat(statusSuffix)), statusSuffix), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n        style: statusStyle\n      }), setNodeRef);\n    }\n\n    return /*#__PURE__*/React.createElement(DomWrapper, {\n      ref: wrapperNodeRef\n    }, motionChildren);\n  });\n  CSSMotion.displayName = 'CSSMotion';\n  return CSSMotion;\n}\nexport default genCSSMotion(supportTransition);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport var STATUS_ADD = 'add';\nexport var STATUS_KEEP = 'keep';\nexport var STATUS_REMOVE = 'remove';\nexport var STATUS_REMOVED = 'removed';\nexport function wrapKeyToObject(key) {\n  var keyObj;\n\n  if (key && _typeof(key) === 'object' && 'key' in key) {\n    keyObj = key;\n  } else {\n    keyObj = {\n      key: key\n    };\n  }\n\n  return _objectSpread(_objectSpread({}, keyObj), {}, {\n    key: String(keyObj.key)\n  });\n}\nexport function parseKeys() {\n  var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return keys.map(wrapKeyToObject);\n}\nexport function diffKeys() {\n  var prevKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var currentKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var list = [];\n  var currentIndex = 0;\n  var currentLen = currentKeys.length;\n  var prevKeyObjects = parseKeys(prevKeys);\n  var currentKeyObjects = parseKeys(currentKeys); // Check prev keys to insert or keep\n\n  prevKeyObjects.forEach(function (keyObj) {\n    var hit = false;\n\n    for (var i = currentIndex; i < currentLen; i += 1) {\n      var currentKeyObj = currentKeyObjects[i];\n\n      if (currentKeyObj.key === keyObj.key) {\n        // New added keys should add before current key\n        if (currentIndex < i) {\n          list = list.concat(currentKeyObjects.slice(currentIndex, i).map(function (obj) {\n            return _objectSpread(_objectSpread({}, obj), {}, {\n              status: STATUS_ADD\n            });\n          }));\n          currentIndex = i;\n        }\n\n        list.push(_objectSpread(_objectSpread({}, currentKeyObj), {}, {\n          status: STATUS_KEEP\n        }));\n        currentIndex += 1;\n        hit = true;\n        break;\n      }\n    } // If not hit, it means key is removed\n\n\n    if (!hit) {\n      list.push(_objectSpread(_objectSpread({}, keyObj), {}, {\n        status: STATUS_REMOVE\n      }));\n    }\n  }); // Add rest to the list\n\n  if (currentIndex < currentLen) {\n    list = list.concat(currentKeyObjects.slice(currentIndex).map(function (obj) {\n      return _objectSpread(_objectSpread({}, obj), {}, {\n        status: STATUS_ADD\n      });\n    }));\n  }\n  /**\n   * Merge same key when it remove and add again:\n   *    [1 - add, 2 - keep, 1 - remove] -> [1 - keep, 2 - keep]\n   */\n\n\n  var keys = {};\n  list.forEach(function (_ref) {\n    var key = _ref.key;\n    keys[key] = (keys[key] || 0) + 1;\n  });\n  var duplicatedKeys = Object.keys(keys).filter(function (key) {\n    return keys[key] > 1;\n  });\n  duplicatedKeys.forEach(function (matchKey) {\n    // Remove `STATUS_REMOVE` node.\n    list = list.filter(function (_ref2) {\n      var key = _ref2.key,\n          status = _ref2.status;\n      return key !== matchKey || status !== STATUS_REMOVE;\n    }); // Update `STATUS_ADD` to `STATUS_KEEP`\n\n    list.forEach(function (node) {\n      if (node.key === matchKey) {\n        // eslint-disable-next-line no-param-reassign\n        node.status = STATUS_KEEP;\n      }\n    });\n  });\n  return list;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"component\", \"children\", \"onVisibleChanged\"],\n    _excluded2 = [\"status\"];\n\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\n\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    var _super = _createSuper(CSSMotionList);\n\n    function CSSMotionList() {\n      var _this;\n\n      _classCallCheck(this, CSSMotionList);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.state = {\n        keyEntities: []\n      };\n\n      _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref) {\n          var keyEntities = _ref.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _objectSpread(_objectSpread({}, entity), {}, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      };\n\n      return _this;\n    }\n\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _this$props = this.props,\n            component = _this$props.component,\n            children = _this$props.children,\n            _onVisibleChanged = _this$props.onVisibleChanged,\n            restProps = _objectWithoutProperties(_this$props, _excluded);\n\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map(function (_ref2) {\n          var status = _ref2.status,\n              eventProps = _objectWithoutProperties(_ref2, _excluded2);\n\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onVisibleChanged: function onVisibleChanged(changedVisible) {\n              _onVisibleChanged === null || _onVisibleChanged === void 0 ? void 0 : _onVisibleChanged(changedVisible, {\n                key: eventProps.key\n              });\n\n              if (!changedVisible) {\n                _this2.removeKey(eventProps.key);\n              }\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys);\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            var prevEntity = keyEntities.find(function (_ref5) {\n              var key = _ref5.key;\n              return entity.key === key;\n            }); // Remove if already mark as removed\n\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);","import CSSMotion from './CSSMotion';\nimport CSSMotionList from './CSSMotionList';\nexport { CSSMotionList };\nexport default CSSMotion;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\n/**\n * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n * We do not make this auto is to avoid real memory leak.\n * Developer should confirm it's safe to ignore themselves.\n */\n\nexport default function useState(defaultValue) {\n  var destroyRef = React.useRef(false);\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n\n  function safeSetState(updater, ignoreDestroy) {\n    if (ignoreDestroy && destroyRef.current) {\n      return;\n    }\n\n    setValue(updater);\n  }\n\n  return [value, safeSetState];\n}","import ReactDOM from 'react-dom';\n/**\n * Return if a node is a DOM node. Else will return by `findDOMNode`\n */\n\nexport default function findDOMNode(node) {\n  if (node instanceof HTMLElement) {\n    return node;\n  }\n\n  return ReactDOM.findDOMNode(node);\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import * as React from 'react';\nexport default function useMemo(getValue, condition, shouldUpdate) {\n  var cacheRef = React.useRef({});\n\n  if (!('value' in cacheRef.current) || shouldUpdate(cacheRef.current.condition, condition)) {\n    cacheRef.current.value = getValue();\n    cacheRef.current.condition = condition;\n  }\n\n  return cacheRef.current.value;\n}"],"sourceRoot":""}