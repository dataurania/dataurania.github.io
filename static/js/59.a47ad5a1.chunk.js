/*! For license information please see 59.a47ad5a1.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[59,79],{116:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));n(541);var r=n(542),a=(n(443),n(427)),i=n(33),o=n(10),l=n(14),s=n(4),u=n(5),c=n(9),f=n(8),p=n(2),d=n.n(p),h=n(0),v=function(t){Object(c.a)(n,t);var e=Object(f.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).draw=function(t){if(!document.getElementById(t.id+"-svg")){console.log("\u4e0d\u5b58\u5728");var e=t.info,n=t.info.values.map((function(t){return t.replace(",","")})),r=[],a=new Map;a.clear();var s=e.values.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));s=s.map((function(t){return parseFloat(t)}));for(var u=parseFloat((Math.max.apply(Math,Object(l.a)(s))-Math.min.apply(Math,Object(l.a)(s)))/20),c=0;c<20;c++)a.set(c,0);for(c=0;c<s.length-1;c++){var f=parseInt((s[c]-Math.min.apply(Math,Object(l.a)(s)))/u);a.set(f,a.get(f)+1)}a.set(19,a.get(19)+1);var p,d=Object(o.a)(a);try{for(d.s();!(p=d.n()).done;){var v=Object(i.a)(p.value,2),y=v[0],m=v[1],b={};b.index=y,b.value=m,r.push(b)}}catch(C){d.e(C)}finally{d.f()}var x=0,g=0,O=0,j=0,w=196-j-g,M=36-x-O,I=h.scaleBand().range([0,w]),S=h.scaleLinear().range([M,0]);I.domain(r.map((function(t){return t.index}))),S.domain([0,Math.max.apply(Math,Object(l.a)(a.values()))]);var A=h.brushX().extent([[0,0],[w,M]]).on("brush",(function(){if(h.select("#"+t.id+"-xBrushInit").remove(),!h.event.selection)return;null===h.event.selection&&(h.event.selection=[0,w]);var e,a,i,o,c,f=null;0===(f=I.domain().filter((function(t){return h.event.selection[0]<=I(t)&&I(t)<=h.event.selection[1]}))).length&&(f=I.domain().filter((function(t){return h.event.selection[0]<=I(t)})));h.event.selection[0]!=h.event.selection[1]?(1===f.length?(e=f[0],a=f[0]+1):(e=f[0],a=f[f.length-1]),i=(a+1)*u+Math.min.apply(Math,Object(l.a)(s)),o=(0===e?0:e-1)*u+Math.min.apply(Math,Object(l.a)(s)),c=n.filter((function(t){return t>=o&&t<=i})),(isNaN(o)||isNaN(i))&&(i="",o="",c=[])):(e=0,a=0,i="",o="",c=[]);r.slice(e,a);h.selectAll("#"+t.id+"-textpostion").remove();var p=h.select("#"+t.id).append("div").attr("id",t.id+"-textpostion");p.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","left").text(""===o?o:o.toFixed(2)).attr("id",t.id+"minValue"),p.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","right").text(""===i?i:i.toFixed(2)).attr("id",t.id+"maxValue");var d=t.filters;t.filters[t.filterIndex].value=c,t.filters[t.filterIndex].type="equal",t.filters[t.filterIndex].value1=[o,i],t.filters[t.filterIndex].brushLocation=[h.event.selection[0],h.event.selection[1]],console.log("filters-brush-1",t.filters),t.updateFilters(d),t.updateFiltersChangeFlag(!0)})),F=h.select("#"+t.id).append("svg").attr("width",w+j+g).attr("height",M+x+O).attr("id",t.id+"-svg");F.append("rect").attr("width",w).attr("height",M).attr("x","0").attr("y","0").attr("fill","#f0f0f0");var E=F.append("g").attr("class","context");!function(t,e){var n=h.scalePow().range([t.length/10,0]).domain([t.length,0]).exponent(.5),r=e[1]-e[0];0===r&&(r=w);var a=Math.ceil(Math.abs(n(r)));t.filter((function(t,e){return e%a===0})).map((function(t){return t.index}))}(r,[0,w]),E.selectAll(".subBar").data(r).enter().append("rect").classed("subBar",!0).attr("height",(function(t){return M-S(t.value)})).attr("width",(function(t){return I.bandwidth()})).attr("x",(function(t){return I(t.index)})).attr("y",(function(t){return S(t.value)})).attr("fill","#777"),E.append("g").attr("class","x brush"+Math.random()).call(A).selectAll("rect").attr("y",0).attr("width",w).attr("height",M);var N=void 0==t.filters[t.filterIndex].brushLocation?0:t.filters[t.filterIndex].brushLocation[0],B=void 0==t.filters[t.filterIndex].brushLocation?196:t.filters[t.filterIndex].brushLocation[1];0===N&&196===B||E.append("rect").attr("class","xBrushInit").attr("id",t.id+"-xBrushInit").call(A).attr("x",N).attr("y",0).attr("width",B-N).attr("height",M),h.selectAll("#"+t.id+"-textpostion").remove();var L=h.select("#"+t.id).append("div").attr("id",t.id+"-textpostion"),k=void 0==t.filters[t.filterIndex].value1?Math.max.apply(Math,Object(l.a)(n)):t.filters[t.filterIndex].value1[1],z=void 0==t.filters[t.filterIndex].value1?Math.min.apply(Math,Object(l.a)(n)):t.filters[t.filterIndex].value1[0];L.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","left").text(z.toFixed(2)).attr("id",t.id+"minValue"),L.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","right").text(k.toFixed(2)).attr("id",t.id+"maxValue")}},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.draw(this.props)}},{key:"componentDidUpdate",value:function(){this.draw(this.props)}},{key:"render",value:function(){this.props.info.values;var t=this.props.info.field;return d.a.createElement("div",{className:"NumericalFilter"},d.a.createElement("div",{className:"topicContent"},d.a.createElement(a.a,{title:t},d.a.createElement("p",{className:"fieldText"},t))),d.a.createElement("div",{className:"topicDetails topicDetailsSales",id:this.props.id,style:{height:"60px",overflow:"hidden"}}),d.a.createElement(r.a,null))}}]),n}(d.a.Component)},342:function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&t.push(o)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&t.push(l);else t.push(r.toString())}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},343:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(594);var a=n(434),i=n(595);function o(t,e){return Object(r.a)(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(t,e)||Object(a.a)(t,e)||Object(i.a)()}},344:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(22);function a(t,e){if(null==t)return{};var n,a,i=Object(r.a)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},346:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},380:function(t,e,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(e,"a",(function(){return r}))},434:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(560);function a(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},560:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},594:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},595:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=59.a47ad5a1.chunk.js.map