{"version":3,"sources":["pages/EditPage/EditDataVideos/TimeLine/PerSeekBar.js","tool/formateTime.js"],"names":["PerSeekBar","recordLocation","e","props","setMouseDownState","setCurrentX","clientX","setLeftOffsetWidth","videotime","offsetWidth","onMouseDownLeft","console","log","index","stopPropagation","setDragDirection","setCurrentBarIndex","onMouseDownRight","setDragCursor","changeToDrag","drag","bar","isDrag","setDragState","this","time","num","barScale","barWidthList","length","className","style","width","minWidth","ref","current","leftbar","onMouseDown","onClick","formateTime","cardItems","isGeneratedByAlg","background","React","Component","msec","t","Number","parseInt","appendZero","sec","min","n","toLocaleString","minimumIntegerDigits"],"mappings":"iNAEqBA,E,4MAEjBC,eAAiB,SAACC,GACd,EAAKC,MAAMC,mBAAkB,GAC7B,EAAKD,MAAME,YAAYH,EAAEI,SACzB,EAAKH,MAAMI,mBAAmB,EAAKC,UAAUC,c,EAGjDC,gBAAkB,SAACR,GACfS,QAAQC,IAAI,EAAKT,MAAMU,MAAO,iBAC9BX,EAAEY,kBACF,EAAKX,MAAMY,iBAAiB,QAE5B,EAAKZ,MAAMa,mBAAmB,EAAKb,MAAMU,OACzC,EAAKZ,eAAeC,I,EAIxBe,iBAAmB,SAACf,GAChBA,EAAEY,kBACF,EAAKX,MAAMY,iBAAiB,SAE5B,EAAKZ,MAAMa,mBAAmB,EAAKb,MAAMU,OAEzC,EAAKZ,eAAeC,GACpB,EAAKC,MAAMe,cAAc,c,EAG7BC,aAAe,SAACjB,GACZA,EAAEY,kBACF,IAAIM,EAAO,EAAKjB,MAAMkB,IAAIC,OAC1B,EAAKnB,MAAMoB,aAAa,EAAKpB,MAAMU,OAAQO,I,4CAG/C,WAAU,IAAD,OACL,EAA6BI,KAAKrB,MAA1BkB,EAAR,EAAQA,IAAKR,EAAb,EAAaA,MAAOY,EAApB,EAAoBA,KAChBC,EAAMb,EAAQ,EAAI,GAAM,KAAOA,EAAQ,GAAO,IAAMA,EAAQ,GAC5Dc,EAAWH,KAAKrB,MAAMyB,aAAaC,QAAQ,EAAE,KAAK,EAEtD,OACI,yBAAKC,UAAU,gBAEG,IAAVjB,EACI,yBAAKiB,UAAU,YAAYC,MAAO,CAAEC,MAAO,OAAQC,SAAU,SACzD,yBAAKH,UAAU,eACT,KAIdT,EAAIC,OAEI,yBACIQ,UAAU,gBACVI,IAAK,SAAAC,GAAO,OAAI,EAAK3B,UAAY2B,GACjCJ,MACI,CACIC,MAAOX,EAAIe,QAAQT,EACnBM,SAAU,IAAIN,IAKtB,yBAAKG,UAAU,YAAYO,YAAab,KAAKd,kBAC7C,yBACIoB,UAAU,iBACVC,MAAO,CAAEC,OAAQX,EAAIe,QAAU,IAAIT,EAAUM,SAAU,IAAIN,GAC3DW,QAASd,KAAKL,cACboB,YAAYd,IAEjB,yBAAKK,UAAU,gBAAgBO,YAAab,KAAKP,kBAC7C,yBAAKa,UAAU,gBAKvB,yBACIA,UAAU,kBACVQ,QAASd,KAAKL,aACdY,MAAQP,KAAKrB,MAAMqC,UAAU3B,GAAO4B,iBAAiB,CAACC,WAAW,UAAUV,MAAOX,EAAIe,QAAQT,EAASM,SAAU,IAAIN,GAAU,CAACe,WAAW,UAAUV,MAAOX,EAAIe,QAAQT,EAASM,SAAU,IAAIN,IAG9LD,Q,GAjFOiB,IAAMC,Y,iCCF/B,eAAkB,IACzBC,EADiBC,EAAO,uDAAH,EAEMD,EAA/BE,OAAOC,SAASF,EAAI,KAAM,IAAYG,EAAWF,OAAOC,SAASF,EAAI,MAAeG,EAAWF,OAAOC,SAASF,EAAI,IAAK,KAGxH,IAAMI,EAAMD,EAAWF,OAAOC,SAASF,EAAE,IAAK,KACxCK,EAAMF,EAAWF,OAAOC,SAASF,EAAE,IAAM,KAE/C,MAAM,GAAN,OAAUK,EAAV,YAAiBD,EAAjB,YAAwBL,IAI5B,IAAMI,EAAa,SAAAG,GAAC,OAAEA,EAAEC,eAAe,GAAG,CAACC,qBAAqB","file":"static/js/68.b77e7a54.chunk.js","sourcesContent":["import React from 'react';\r\nimport formateTime from '@/tool/formateTime.js'\r\nexport default class PerSeekBar extends React.Component {\r\n\r\n    recordLocation = (e) => {\r\n        this.props.setMouseDownState(true)\r\n        this.props.setCurrentX(e.clientX)\r\n        this.props.setLeftOffsetWidth(this.videotime.offsetWidth)\r\n        // this.props.setRightOffsetWidth(this.drag.offsetWidth)\r\n    }\r\n    onMouseDownLeft = (e) => {\r\n        console.log(this.props.index, 'mouseLeftDown')\r\n        e.stopPropagation();\r\n        this.props.setDragDirection('left')\r\n        //记录当前的index\r\n        this.props.setCurrentBarIndex(this.props.index)\r\n        this.recordLocation(e)\r\n    }\r\n\r\n    //鼠标按下\r\n    onMouseDownRight = (e) => {\r\n        e.stopPropagation();\r\n        this.props.setDragDirection('right')\r\n        //记录当前的index\r\n        this.props.setCurrentBarIndex(this.props.index)\r\n        //TODO:可以记录当前的id号\r\n        this.recordLocation(e)\r\n        this.props.setDragCursor('ew-resize')\r\n    }\r\n\r\n    changeToDrag = (e) => {\r\n        e.stopPropagation();\r\n        let drag = this.props.bar.isDrag\r\n        this.props.setDragState(this.props.index, !drag)\r\n    }\r\n\r\n    render() {\r\n        const { bar, index, time } = this.props\r\n        let num = index + 1 < 10 ? (\"0\" + (index + 1)) : (\"\" + (index + 1))\r\n        var barScale = this.props.barWidthList.length>=9?2.03:1\r\n        //先采用第一个作为测试\r\n        return (\r\n            <div className='per-seek-bar' >\r\n                {\r\n                    index !== 0 ? (\r\n                        <div className='right-btn' style={{ width: '24px', minWidth: '24px' }}>\r\n                            <div className='drag-icon'></div>\r\n                        </div>) : null\r\n                }\r\n\r\n                {\r\n                    bar.isDrag ?\r\n                        (\r\n                            <div\r\n                                className='left-bar-drag'\r\n                                ref={current => this.videotime = current}\r\n                                style={\r\n                                    {\r\n                                        width: bar.leftbar/barScale,\r\n                                        minWidth: 140/barScale,\r\n                                        // position: dragDirection === 'left' && isMouseDown && currentBarIndex === index ? 'absolute' : 'relative',\r\n                                        // left: dragDirection === 'left' && isMouseDown && currentBarIndex === index ? leftDist : '0px'\r\n                                    }\r\n                                }>\r\n                                <div className='drag-line' onMouseDown={this.onMouseDownLeft}></div>\r\n                                <div\r\n                                    className='drag-time-text'                 \r\n                                    style={{ width: (bar.leftbar - 13)/barScale, minWidth: 127/barScale }}\r\n                                    onClick={this.changeToDrag}>\r\n                                    {formateTime(time)}\r\n                                </div>\r\n                                <div className='drag-line-box' onMouseDown={this.onMouseDownRight}>\r\n                                    <div className='drag-line' ></div>\r\n                                </div>\r\n\r\n                            </div>) :\r\n                        (\r\n                            <div\r\n                                className='left-bar-undrag'\r\n                                onClick={this.changeToDrag}\r\n                                style={ this.props.cardItems[index].isGeneratedByAlg?{background:\"#E4F2FB\",width: bar.leftbar/barScale,minWidth: 140/barScale}:{background:\"#FFE1A4\",width: bar.leftbar/barScale,minWidth: 140/barScale}\r\n\r\n                                 }>\r\n                                {num}\r\n                            </div>\r\n                        )\r\n                }\r\n            </div >\r\n        )\r\n    }\r\n}","export default function (t = 0) {\r\n    let msec\r\n    Number.parseInt(t % 1000)<100? msec = appendZero(Number.parseInt(t % 1000)): msec = appendZero(Number.parseInt(t % 1000/10))\r\n    \r\n    // const msec = appendZero(Number.parseInt(t % 1000))\r\n    const sec = appendZero(Number.parseInt(t/1000%60))\r\n    const min = appendZero(Number.parseInt(t/60000%60));\r\n\r\n    return `${min}:${sec}.${msec}`;\r\n\r\n}\r\n\r\nconst appendZero = n=>n.toLocaleString({},{minimumIntegerDigits:2});"],"sourceRoot":""}