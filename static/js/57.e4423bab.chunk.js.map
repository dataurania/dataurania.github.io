{"version":3,"sources":["pages/EditPage/EditDataVideos/VideoSliceCardList/FactCard.js","pages/EditPage/EditDataVideos/LeftSidebar/DataFact.js","../node_modules/lodash/_root.js","../node_modules/antd/es/_util/reactNode.js","../node_modules/antd/es/_util/type.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","axios/config.js","../node_modules/lodash/isObject.js","axios/base.js","axios/api.js","axios/activitiesCode.js","axios/recordactivities.js","model/fact.js","constant/config.js","../node_modules/lodash/_Symbol.js","constant/imageUrl.js","../node_modules/lodash/_freeGlobal.js","action/videoAction.js","view/StoryView/Color.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js"],"names":["getChoice","length","Math","round","random","getFactChartType","shema","fact","supportedChartTypes","getSupportedChartTypes","chart","cardSource","canDrag","props","isReady","isDragging","monitor","getItem","id","beginDrag","component","document","body","querySelectorAll","index","classList","add","endDrag","isPlayVideo","remove","didDrop","dropResult","getDropResult","addCard","insert","specData","schemaFilter","_","cloneDeep","schemaFilterLocal","schema","ChartType","ISOTYPE_BAR_CHART","VERTICAL_BAR_CHART","customizeFact","isValid","console","log","specChart","specFact","breakdown","groupby","map","d","width_height","width","height","type","style","duration","showSuggestion","size","datares","dataresLocal","specNew","data","values","insertFact","specs","record_activity","activitiesCode","dragNewFact","deleteUnusedFact","addBarToTimeLineBar","leftbar","rightbar","isDrag","FactCard","deleteFact","nextProps","this","nextFact","isEqual","filters","uuid","uuidv4","vis","fact2unitVis","connectDragSource","className","onClick","React","Component","DragSource","connect","dragSource","DataFact","getGenerateURL","ConvertForms","DATACOMICS","config","url","generateGraphRandomly","FACTSHEET","generateRandomly","addFact","typeForm","setState","operateState","OperationType","ADDING","name","adding","then","response","facts","story","ConvertType","DASHBOARD","DATAVIDEOS","tempFacts","factDict","Fact","push","Promise","resolve","reject","a","fileName","filtersLocal","file_name","max_story_length","JSON","stringify","method","api","fail","ADD_FAILED","errorMessage","generateMoreFacts","filename","error","GENERATED","lang","intl","options","currentLocale","filter","state","unusedFacts","initDone","tip","get","item","generatedScript","genFactSentence","generatedSubtitle","genSubtitle","AddView","backend","HTML5Backend","enableMouseEvents","spinning","wrapperClassName","key","freeGlobal","require","freeSelf","self","Object","root","Function","module","exports","isValidElement","cloneElement","element","replacement","replaceElement","tuple","_len","arguments","args","Array","_key","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","undefined","value","applicationUrl","urlPrefix","generationUrlPrefix","activitiesPrefix","uploadDataPrefix","question2gifPrefix","accountIp","share","publicPrefix","loginadmintest","loginRedirectUrl","logoutRedirectUrl","authenUrl","accessToken","userImage","checkToken","logout","logoutAuthSystem","users","activitiesApi","uploadData","uploadGraphData","fetch","factScoring","filteredGenerate","question2gif","composeUrl","qs","result","keys","requestWithoutCredentials","param","reslove","axios","status","catch","formData","generate","shareStory","jsonstring","fetchStory","uid","req","uploadFile","generateFactSheet","downloadFile","editTopic","editLayout","editFactCaption","editDiagram","editSheetCaption","actionid","objectid","action","meta","measure","subspace","focus","parameter","score","information","significance","script","aggregated","aggregatedFact","compoundType","compoundChart","JUXTAPOSITION","iconUrl","AliCloud","generateIconUrl","H5","global","initialVideoSlice","ActionType","INIT_VIDOE_CARD","replayVideoSlice","REPLAY_VIDEO_SLICE","playVideoSlice","PLAY_VIDEO_SLICE","playVideoContinue","PLAY_VIDEO_CONTINUE","stopPlayVideoContinue","STOP_PLAY_VIDEO_CONTINUE","addNowVideoTime","ADD_NOW_VIDEO_TIME","changeNowVideoTime","time","CHANGE_NOW_VIDEO_TIME","changeAllVideoTime","CHANGE_ALL_VIDEO_TIME","removeCard","REMOVE_CARD","changeCard","origin","target","CHANGE_CARD","exchangeCard","card","EXCHANGE_CARD","isGeneratedByAlg","ADD_CARD","addCards","cards","ADD_CARDS","addEmptyCard","ADD_EMPTY_CARD","setLeftsiderContent","content","SET_LEFTSIDER_CONTENT","initTimeLineBarWidth","INIT_TIME_LINE_BAR_WDITH","bar","ADD_BAR_TO_TIME_LINE_BAR","addBarsToTimeLineBar","bars","ADD_BARS_TO_TIME_LINE_BAR","deleteBarFromTimeLineBar","DELETE_BAR_FROM_TIME_LINE_BAR","changeTimeLineBar","CHANGE_TIME_LINE_BAR","setLeftBarWidth","SET_LEFT_BAR_WIDTH","setRightBarWidth","SET_RIGHT_BAR_WIDTH","setDragDirection","direction","SET_DRAG_DIRECTION","setMouseDownState","mouseDown","SET_MOUSE_DOWN_STATE","setDragState","drag","SET_DRAG_STATE","setCurrentX","clientx","SET_CURRENT_X","setLeftOffsetWidth","offset","SET_LEFT_OFFSET_WIDTH","setRightOffsetWidth","SET_RIGHT_OFFSET_WIDTH","setCurrentBarIndex","SET_CURRENT_BAR_INDEX","setPosition","position","SET_POSITION","setSceneScale","scale","SET_SCENE_SCALE","setDragCursor","cursor","SET_DRAG_CURSOR","question2Gif","question","narrative_spec","QUESTION_2_GIF","isGeneratingGIF","isGenerating","ISGENERATINGGIF","changeTempSpec","temp_spec","CHANGE_TEMP_SPEC","operatorChange","operatorType","OPERATOR_CHANGE","animationChange","animationType","ANIMATION_CHANGE","changeKeys","CHANGE_KEYS","changeOperator","CHANGE_OPERATOR","operatorAdding","operatorAdds","OPERATOR_ADDING","factColors","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","isOwn","call","tag","unmasked","e"],"mappings":"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","file":"static/js/57.e4423bab.chunk.js","sourcesContent":["import React from 'react';\nimport { fact2unitVis } from '../../../../tool/fact2unitVis';\nimport { fact2chart } from '../../../../tool/fact2vis.js';\nimport uuidv4 from 'uuid/v4';\nimport ChartType from '../../../../constant/ChartType';\nimport getSupportedChartTypes from '@/tool/getSupportedChartTypes';\nimport _ from 'lodash';\nimport { isValid, customizeFact } from '@/view/FactEditor/helper';\nimport { DragSource } from 'react-dnd';\nimport { factColors } from '../../../../view/StoryView/Color.js'\nimport { Tooltip } from 'antd';\nimport activitiesCode from '@/axios/activitiesCode';\nimport record_activity from '@/axios/recordactivities'\nimport * as d3 from 'd3';\nimport { addEmptyCard } from '../../../../action/videoAction';\nconst Types = {\n    CARD: 'card'\n}\nexport const getChoice = (length) => {\n    let choice = Math.round(Math.random() * (length - 1));\n    return choice;\n}\n\nexport const getFactChartType = (shema, fact, choice = 0) => {\n    let supportedChartTypes = getSupportedChartTypes(fact, shema);\n    if (supportedChartTypes.length === 0) return null;\n    return supportedChartTypes[getChoice(supportedChartTypes.length)].chart;\n}\n/**\n * Specifies the drag source contract.\n * Only `beginDrag` function is required.\n */\nconst cardSource = {\n    canDrag(props) {\n        // You can disallow drag based on props\n        return props.isReady\n    },\n\n    isDragging(props, monitor) {\n        // If your component gets unmounted while dragged\n        // (like a card in Kanban board dragged between lists)\n        // you can implement something like this to keep its\n        // appearance dragged:\n        return monitor.getItem().id === props.id\n    },\n\n    beginDrag(props, monitor, component) {\n        // Return the data describing the dragged item\n        let controls = document.body.querySelectorAll(\".dragCard\");\n        controls[component.props.index].classList.add(\"dragging\");\n        const item = { id: props.id }\n        return item\n    },\n\n    endDrag(props, monitor, component) {\n        if(props.isPlayVideo)\n        {\n            null\n        }\n        else\n        {\n            let controls = document.body.querySelectorAll(\".dragCard\");\n            controls[component.props.index].classList.remove(\"dragging\");\n\n            if (!monitor.didDrop()) {\n                // You can check whether the drop was successful\n                // or if the drag ended but nobody handled the drop\n                return\n            }\n\n            const dropResult = monitor.getDropResult();\n            let { addCard, index } = component.props;\n            if (typeof (dropResult.insert) !== \"undefined\") {\n                //record_activity(activitiesCode.dragNewFact, 1, props.fact)\n                let schemaFilter = _.cloneDeep(props.schemaFilterLocal);\n                let schema=props.schema\n                let specData\n                schemaFilter ? specData = { \"schema\": schemaFilter, } : specData = { \"schema\": schema };\n\n                let fact = props.fact\n\n                if (!fact.chart || fact.chart === \"\") {\n                    fact.chart = getFactChartType(specData.schema, fact); //针对生成页面的chart\n                }\n            \n                let chart = fact.chart;\n            \n                if (chart === ChartType.ISOTYPE_BAR_CHART) {\n                    fact.chart = ChartType.VERTICAL_BAR_CHART;\n                }\n                fact = customizeFact(fact);\n                if (!fact.chart || !isValid(fact)) {\n                    console.log(\"no valid\", fact)\n                    return null;\n                }\n\n                let specFact = {\n                    ...fact,\n                    breakdown: fact.groupby.map(d => {\n                        return {\n                            \"field\": d\n                        }\n                    })\n                }\n\n                let width_height = { \"width\": 135, \"height\": 86 };\n                let size = null;\n                let specChart;\n                if (width_height) {\n                    specChart = {\n                        width: width_height.width,\n                        height: width_height.height,\n                        type: \"unitvis\",\n                        style: \"business\",\n                        duration: 0,\n                        showSuggestion: true, //显示图表Unsupported\n                    }\n                } else {\n                    specChart = {\n                        size: size,\n                        type: \"unitvis\",\n                        style: \"business\",\n                        duration: 0,\n                        showSuggestion: true, //显示图表Unsupported\n                    }\n                }\n\n                let datares = _.cloneDeep(props.dataresLocal);\n\n                specData = {\n                    ...specData,\n                    values: datares,\n                }\n\n                let specNew = {\n                    data: specData,\n                    fact: specFact,\n                    chart: specChart,\n                }\n\n                let insertFact = props.fact\n                let specs = specNew\n                let time = 6000;\n                // 加入facts中\n                record_activity(activitiesCode.dragNewFact, 1 , props.fact)\n                props.insertFact(index, dropResult.insert);\n                // 添加卡片到下方keyframes中\n                addCard(insertFact,specs,time,false, dropResult.insert);\n                // 删除侧边栏中当前卡片\n                props.deleteUnusedFact(index);\n                // 添加对应的time控制的bar\n                let bar = { leftbar: 140, rightbar: 18,isDrag:false }\n                props.addBarToTimeLineBar(bar,dropResult.insert)\n            }\n        }\n    }\n}\n\n/**\n * Specifies which props to inject into your component.\n */\nfunction collect(connect, monitor) {\n    return {\n        connectDragSource: connect.dragSource(),\n        // You can ask the monitor about the current drag state:\n        isDragging: monitor.isDragging()\n    }\n}\n\n\nclass FactCard extends React.Component {\n\n    deleteFact = () => {\n        this.props.deleteUnusedFact(this.props.index);\n    }\n\n    shouldComponentUpdate(nextProps) {\n        let { fact } = this.props;\n        let nextFact = nextProps.fact;\n        return !_.isEqual(fact, nextFact);\n    }\n\n    render() {\n        let { data, schema, fact, isReady, filters,width,height } = this.props;\n\n        let datares = _.cloneDeep(this.props.dataresLocal);\n        // console.log(datares)\n\n\n        let schemaFilter = _.cloneDeep(this.props.schemaFilterLocal);\n\n        let specData\n        if (schemaFilter) {\n            specData = {\n                \"schema\": schemaFilter,\n            };\n        }\n        else {\n            specData = {\n                \"schema\": schema\n            };\n        }\n        let uuid = uuidv4();\n        // 接入 unit vis 图表\n        let vis = fact2unitVis(specData, uuid, fact, datares,null,{\"width\":width,\"height\": height} ,true);\n        // These props are injected by React DnD,\n        // as defined by your `collect` function above:\n        const { connectDragSource } = this.props;\n        return connectDragSource(\n            <li>\n                <div className={isReady ? \"factCard dragCard\" : \"factCard\"} >\n                    <div className='delete' onClick={() => this.deleteFact()}></div>\n                    <div className='vis'>\n                        {vis}\n                    </div>\n                </div>\n            </li>\n        )\n    }\n}\n\nexport default DragSource(Types.CARD, cardSource, collect)(FactCard);\n","import React from 'react';\r\nimport { Spin } from \"antd\";\r\nimport OperationType from '@/constant/OperationType'\r\nimport ConvertForms from '@/constant/config';\r\nimport ConvertType from '@/constant/ConvertType';\r\nimport config from '@/axios/config';\r\nimport { DndProvider } from 'react-dnd';\r\nimport FactCard from '../VideoSliceCardList/FactCard';\r\nimport { genFactSentence, genSubtitle } from '@/sentencer/index';\r\nimport activitiesCode from '@/axios/activitiesCode';\r\nimport record_activity from '@/axios/recordactivities';\r\nimport * as api from '@/axios/api';\r\nimport Fact from '@/model/fact';\r\nimport uuidv4 from 'uuid/v4';\r\nimport { filter } from 'lodash';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nconst addFactNum = 10;\r\n\r\nexport default class DataFact extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const { intl} = this.props\r\n        let lang = intl.options.currentLocale\r\n        filter(lang);\r\n        this.state = {};\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const { unusedFacts } = this.props;\r\n        if (!unusedFacts.length) {\r\n            this.addFact();\r\n        }\r\n        \r\n    }\r\n    getGenerateURL = (type) => {\r\n        switch (type) {\r\n            case ConvertForms.DATACOMICS:\r\n                return config.url.generateGraphRandomly;\r\n            case ConvertForms.FACTSHEET:\r\n            default:\r\n                return config.url.generateRandomly;\r\n        }\r\n    }\r\n\r\n    addFact = () => {\r\n        let typeForm = ConvertForms[0];\r\n        this.setState({\r\n            operateState: OperationType.ADDING\r\n        })\r\n        let type = typeForm.name;\r\n        //TODO:会有重复的fact\r\n        this.adding(this.getGenerateURL(type)).then(response => {\r\n            const facts = response.data.story.facts;\r\n\r\n            switch (type) {\r\n                case ConvertType.DATACOMICS:\r\n                case ConvertType.FACTSHEET:\r\n                case ConvertType.DASHBOARD:\r\n                case ConvertType.DATAVIDEOS:\r\n                default:\r\n                    let tempFacts = [];\r\n                    for (let factDict of facts) {\r\n                        let fact = new Fact(\r\n                            factDict['type'],\r\n                            factDict['measure'],\r\n                            factDict['subspace'],\r\n                            factDict['groupby'],\r\n                            factDict['focus'],\r\n                            factDict['parameter'],\r\n                            \"\", // chart\r\n                            factDict['score'],\r\n                            factDict['information'],\r\n                            factDict['significance']\r\n                        );\r\n                        fact.uuid = uuidv4();\r\n                        tempFacts.push(fact);\r\n                    }\r\n                    this.props.addFact(tempFacts);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    adding = (url) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            let fileName = this.props.fileName;\r\n            let filters = _.cloneDeep(this.props.filtersLocal);\r\n\r\n            let data;\r\n            if (filters)\r\n                data = {\r\n                    file_name: fileName,\r\n                    max_story_length: addFactNum,\r\n                    filters: JSON.stringify(filters),\r\n                    method: 'mcts'\r\n                }\r\n\r\n            const response = await api.generate(url, data)\r\n            console.log('response-adding', response)\r\n            if (response.data.fail) {\r\n                this.setState({\r\n                    operateState: OperationType.ADD_FAILED,\r\n                    errorMessage: response.data.fail\r\n                })\r\n                reject()\r\n                record_activity(activitiesCode.generateMoreFacts, 0, { filename: fileName, response: response });\r\n            }\r\n            if (response.data.error) {\r\n                this.setState({\r\n                    operateState: OperationType.ADD_FAILED,\r\n                    errorMessage: response.data.error\r\n                })\r\n                reject()\r\n                record_activity(activitiesCode.generateMoreFacts, 0, { filename: fileName, response: response });\r\n            }\r\n            this.setState({\r\n                operateState: OperationType.GENERATED\r\n            })\r\n            resolve(response)\r\n            record_activity(activitiesCode.generateMoreFacts, 1, { filename: fileName, response: response });\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const { intl, initDone, unusedFacts } = this.props\r\n        const { operateState } = this.state\r\n        let lang = intl.options.currentLocale\r\n        let tip = initDone && intl.get(\"adding\");\r\n        unusedFacts.map((item, index) => {\r\n            item.generatedScript = genFactSentence(item, lang)\r\n            item.generatedSubtitle = genSubtitle(item, lang)\r\n        })\r\n        //添加fact的组件\r\n        const AddView = () => {\r\n            return (\r\n                <div className='add'>\r\n                    <div className=\"addImage\" onClick={this.addFact}></div>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <DndProvider backend={HTML5Backend} options={{ enableMouseEvents: true }}>\r\n                <div className='Topic-Facts'>\r\n                    <div className=\"DataFacts\">\r\n                        <Spin tip={tip} spinning={operateState === OperationType.ADDING} wrapperClassName=\"editSpining\">\r\n                            {/* <DataFactsTxt /> */}\r\n                            <div className='factsList'>\r\n                                <ul>\r\n                                    {\r\n                                        unusedFacts.map((fact, index) => {\r\n                                            return (\r\n                                                <div className=\"factCardOuterFrame\">\r\n                                                    <FactCard width={135} height={86} key={fact.uuid + fact.index} dataresLocal={this.props.dataresLocal} schemaFilterLocal={this.props.schemaFilterLocal}  {...this.props} fact={fact} index={index} id={fact.uuid} isReady={true} />\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                        </Spin>\r\n                    </div>\r\n                    <div>\r\n                        <AddView />\r\n                    </div>\r\n                </div>\r\n            </DndProvider>\r\n        )\r\n    }\r\n}","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","//let calliopeService = 'service.datacalliope.com';\nlet calliopeService = 'calliope-service.idvxlab.com';\n//let calliopeLiteService = 'calliope-service.idvxlab.com:8004';\n// let calliopeLiteService = 'service.datacalliope.com:8002';\n\n// let calliopeLiteService = 'calliope-service.idvxlab.com:8002';\nlet calliopeLiteService = 'urania-api.idvxlab.com:8006';\n// let applicationUrl='https://datacalliope.com';\nlet applicationUrl = 'http://calliope-dev.idvxlab.com';\n\nlet urlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/api/v1` : 'http://localhost:7001/api/v1';\n// let uploadDataPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6028';//todo  7001\nlet generationUrlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6010';//todo  7001\n\n// let question2gifPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6030';//todo  7001\n\n\nlet activitiesPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/log/v1` : 'http://localhost:7002/log/v1';//\nlet publicPrefix = process.env.NODE_ENV === 'production' ? applicationUrl : 'http://localhost:3000';\n//let client_id = '033338f2-02a8-44d4-8d54-5173b4a864f9';\n\nlet uploadDataPrefix = `https://${calliopeLiteService}`;\nlet question2gifPrefix =`https://${calliopeLiteService}` ;\n// let urlPrefix = `https://${calliopeService}:8002/api/v1` ;\n// let uploadDataPrefix  = `https://${calliopeLiteService}`;//todo  7001\n// let generationUrlPrefix = `https://${calliopeLiteService}`;//todo  7001\n// let activitiesPrefix = `https://${calliopeService}:8002/log/v1`;//\n// let publicPrefix = applicationUrl ;\nlet client_id = '6dcd0f8b-6990-4d69-9018-29b3351aa6ff';\nlet accountIp = `https://account.datacalliope.com`\nlet logoutRedirectUrlIp = `https://service.datacalliope.com:8001`\n\nconst config = {\n    url: {\n        share: `${uploadDataPrefix}/share`,\n        applicationUrl: applicationUrl,\n        //share\n        publicPrefix: publicPrefix,\n        //login\n        loginadmintest: `${urlPrefix}/loginadmintest`,\n        loginRedirectUrl: `${accountIp}/#/login?response_type=code&client_id=${client_id}&grant_type=authorization_code&redirect_uri=${applicationUrl}`,\n        logoutRedirectUrl: `${applicationUrl}/#/logout`,\n        authenUrl: accountIp,\n        accessToken: `${urlPrefix}/accesstoken`,\n        userImage: `${logoutRedirectUrlIp}/img`,\n        checkToken: `${urlPrefix}/checktoken`,\n        //logout\n        logout: `${urlPrefix}/logout`,\n        logoutAuthSystem: `${logoutRedirectUrlIp}/logout`,\n        //activities\n        users: `${urlPrefix}/users`,\n        activitiesApi: `${activitiesPrefix}/users`,\n        //upload\n        uploadDataPrefix: uploadDataPrefix,\n        uploadData: `${uploadDataPrefix}/upload`,\n        uploadGraphData: `${uploadDataPrefix}/uploadGraph`,\n        \n        fetch: `${uploadDataPrefix}/data/share`,\n        //story generation\n        factScoring: `${generationUrlPrefix}/fact`,\n        generateRandomly: `${generationUrlPrefix}/generate`,\n        generateGraphRandomly: `${generationUrlPrefix}/generateGraphRandomly`,\n\n        //data filter\n        filteredGenerate:`${generationUrlPrefix}/filteredgenerate`,\n\n        // data gif\n        question2gif:`${question2gifPrefix}/edit_decompose`\n    }\n}\nexport default config","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","import axios from 'axios';\nimport { stringify } from 'query-string';\n// import config from '@/axios/config';\n\nconst composeUrl = function (url, qs) {\n    let result = '';\n    // if (url[0] !== '/') {\n    //   result += '/';\n    // }\n    result += url;\n    if (typeof qs === 'object' && Object.keys(qs).length !== 0) {\n        result += `?${stringify(qs)}`;\n    }\n    return result;\n};\n\nexport const request = ({ url, method, param, data }) => {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: method,\n            url: composeUrl(url, param),\n            data: data,\n            withCredentials: true,\n            // headers: { 'token': Cookies.get('userInfo') ? JSON.parse(Cookies.get('userInfo')).token : null },\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            if (error.response) {\n                if (error.response.status === 401) {\n                    //reject('401');\n                    reject()\n                    //退出登陆\n                    // axios({\n                    //     method: \"post\",\n                    //     url: `${config.url.logout}`,\n                    //     data: {},\n                    //     withCredentials: true\n                    // }).then((response) => {\n                    //     if (response.status === 200) {\n                    //         window.location.href = config.url.loginRedirectUrl //login first\n                    //     }\n                    // }).catch(\n                    // )\n                }\n            }\n            reject();\n        })\n    })\n};\n\nexport const requestWithoutCredentials = ({ url, method, param, data }) => {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: method,\n            url: composeUrl(url, param),\n            data: data\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n};\n\n","import * as req from './base';\nimport config from '@/axios/config';\nimport axios from 'axios';\n\n/**\n * 用户认证 相关接口\n * @param \n */\nexport async function checkToken() {\n    const data = await req.request({\n        url: `${config.url.checkToken}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\nexport async function loginadmintest() {\n    const data = await req.request({\n        url: `${config.url.loginadmintest}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\nexport async function accessToken(body) {\n    const data = await req.request({\n        url: `${config.url.accessToken}`,\n        method: 'post',\n        param: {},\n        data: body\n    });\n    return data;\n}\nexport async function logout() {\n    const data = await req.request({\n        url: `${config.url.logout}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\n\nexport async function uploadData(formData) {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: \"post\",\n            url: `${config.url.uploadData}`,\n            config: {\n                \"headers\": {\n                    'Content-Type': 'multipart/form-data' //application/json; charset=utf-8\n                },\n            },\n            data: formData\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n}\n\n\nexport function filteredgenerate(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\nexport function generate(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\nexport function question2gif(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\n\nexport function factScoring(filename, fact,filters, method) {\n    return axios({\n        \"method\": \"POST\",\n        \"url\": config.url.factScoring,\n        \"headers\": {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        },\n        \"data\": {\n            \"file_name\": filename,\n            \"fact\": fact,\n            \"filters\":filters,\n            \"method\": method,\n        }\n    })\n}\n\nexport async function shareStory(jsonstring) {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: \"post\",\n            url: `${config.url.share}`,\n            config: {\n                \"headers\": {\n                    'Content-Type': 'application/json; charset=utf-8'\n                },\n            },\n            data: {\n                \"share_json\": jsonstring\n            }\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n}\n\nexport async function fetchStory(id) {\n    return axios({\n        method: \"get\",\n        \"url\": `${config.url.fetch}/${id}.json`,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        }\n    })\n}\n/*****\n *技术栈：\n ssr(后端渲染)，koa(koa-views)：模板渲染，渲染出要生成pdf的页面)\n node.js 生成pdf插件 puppeteer：将渲染的页面生成PDF\n koa-send：将生成的PDF返回给前端页面下载 \n * \n data是后端用于渲染页面的数据\n */\nexport function generatePDF(data) {\n    return axios({\n        method: 'post',\n        url: `/generatePDF`,\n        param: {},\n        data: data\n    })\n}\n\n/**\n * 数据|故事|评论 操作行为记录 API\n * @param \n */\n\nexport async function activitiesApi(uid, body) {\n    const data = await req.requestWithoutCredentials({\n        url: `${config.url.activitiesApi}/lite/activities`,\n        method: 'post',\n        param: {},\n        data: body\n    });\n    return data;\n}\n","const activitiesCode = {\n    uploadFile: 1,\n    generateFactSheet: 2,\n    downloadFile:3,\n    editTopic:4,\n    generateMoreFacts:5,\n    editLayout:6,\n    dragNewFact:7,\n    deleteFact:8,\n    editFactCaption:9,\n    editDiagram:10,\n    editSheetCaption:11\n}\nexport default activitiesCode;","import * as api from '@/axios/api';\n\n\nexport default function record_activity (actionid, objectid,response) {\n    let uid = 'users'\n    let body = {\n        action: actionid,\n        objectid: objectid,\n        meta: JSON.stringify(response),\n    }\n    api.activitiesApi(uid, body).then(response => {console.log(response)\n    }).catch(error =>{console.log(response)})\n};\n","import {genFactSentence,genSubtitle} from '../sentencer/index';\nimport ChartType from '../constant/ChartType';\nexport default class Fact {\n    constructor(type, measure = [], subspace = [], groupby = [], focus = [], parameter = [], chart = \"\",  score = 0, information = 0, significance = 0) {\n        this.type = type;\n        this.measure = measure;\n        this.subspace = subspace;\n        this.groupby = groupby;\n        this.focus = focus;\n        this.parameter = parameter;\n        this.score = score;\n        this.information = information;\n        this.significance = significance;\n        this.chart = chart;\n        this.generatedScript = genFactSentence(this);\n        this.generatedSubtitle = genSubtitle(this)\n        //animation duration\n        this.duration = 3000;\n        // Compound Fact\n        this.aggregated = false;\n        this.aggregatedFact = null;\n        this.compoundType = '';\n        this.compoundChart = ChartType.JUXTAPOSITION;\n    }\n    script = () => this.generatedScript;\n}","import ConvertType from './ConvertType'\nimport AliCloud from '@/constant/imageUrl'\n\nlet ConvertForms = [\n    {\n        name: ConvertType.FACTSHEET,\n        iconUrl: `${AliCloud}/convertType/factsheet.png`,\n        generateIconUrl: `${AliCloud}/convertType/factsheet_black.png`\n    },\n    {\n        name: ConvertType.H5,\n        iconUrl: `${AliCloud}/convertType/H5.png`,\n        generateIconUrl: `${AliCloud}/convertType/H5_black.png`\n    },\n    {\n        name: ConvertType.DATAVIDEOS,\n        iconUrl: `${AliCloud}/convertType/video.png`,\n        generateIconUrl: `${AliCloud}/convertType/video_black.png`\n    }\n    // {\n    //     name: ConvertType.DASHBOARD,\n    //     iconUrl: `${AliCloud}convertType/dashboard.png`,\n    //     generateIconUrl: `${AliCloud}convertType/dashboard_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATACOMICS,\n    //     iconUrl: `${AliCloud}convertType/comic.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATAVIDEOS,\n    //     iconUrl: `${AliCloud}convertType/video.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATACOMICS,\n    //     iconUrl: `${AliCloud}convertType/comic.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATAVIDEOS,\n    //     iconUrl: `${AliCloud}convertType/video.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // }\n\n]\nexport default ConvertForms;","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","const AliCloud = 'http://calliope-dev.oss-cn-shanghai.aliyuncs.com/image/images'\nexport default AliCloud","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","import ActionType from './type';\r\n\r\n\r\nexport const initialVideoSlice = (facts, schemaFilter, filename, datares, schema) => ({\r\n    type: ActionType.INIT_VIDOE_CARD,\r\n    facts,\r\n    schemaFilter,\r\n    filename,\r\n    datares,\r\n    schema\r\n})\r\n\r\nexport const replayVideoSlice = () => ({\r\n    type: ActionType.REPLAY_VIDEO_SLICE\r\n})\r\n\r\nexport const playVideoSlice = (index) => ({\r\n    type: ActionType.PLAY_VIDEO_SLICE,\r\n    index\r\n})\r\n\r\n//play video continuity\r\nexport const playVideoContinue = () => ({\r\n    type: ActionType.PLAY_VIDEO_CONTINUE\r\n    \r\n})\r\n\r\n//stop play video continuity\r\nexport const stopPlayVideoContinue = () => ({\r\n    type: ActionType.STOP_PLAY_VIDEO_CONTINUE\r\n})\r\n\r\n//add nowVideoTime\r\nexport const addNowVideoTime = () => ({\r\n    type: ActionType.ADD_NOW_VIDEO_TIME\r\n})\r\n\r\nexport const changeNowVideoTime = (time) => ({\r\n    type: ActionType.CHANGE_NOW_VIDEO_TIME,\r\n    time,\r\n})\r\n\r\nexport const changeAllVideoTime = (time) => ({\r\n    type: ActionType.CHANGE_ALL_VIDEO_TIME,\r\n    time,\r\n})\r\n\r\nexport const removeCard = (index) => ({\r\n    type: ActionType.REMOVE_CARD,\r\n    index\r\n})\r\n\r\n//drag card to another index\r\nexport const changeCard = (origin ,target) => ({\r\n    type: ActionType.CHANGE_CARD,\r\n    origin,\r\n    target    \r\n})\r\n\r\nexport const exchangeCard = (index,card) => ({\r\n    type: ActionType.EXCHANGE_CARD,\r\n    index,\r\n    card\r\n})\r\n\r\n//drag data fact to card list\r\nexport const addCard = (fact,specs,time,isGeneratedByAlg,insert) => ({\r\n    type:ActionType.ADD_CARD,\r\n    fact,specs,time,isGeneratedByAlg,\r\n    insert\r\n})\r\n\r\nexport const addCards = (cards,insert) => ({\r\n    type:ActionType.ADD_CARDS,\r\n    cards,\r\n    insert\r\n})\r\n\r\nexport const changeCardFlag = (index,flag) => ({\r\n    type:ActionType.CHANGE_CARD_FLAG,\r\n    index,\r\n    flag,\r\n})\r\n\r\n\r\n\r\n//add empty slice\r\nexport const addEmptyCard = () => ({\r\n    type: ActionType.ADD_EMPTY_CARD\r\n})\r\n\r\n//set leftsider content\r\nexport const setLeftsiderContent = (content) => ({\r\n    type: ActionType.SET_LEFTSIDER_CONTENT,\r\n    content\r\n})\r\n\r\n\r\n//--------------------time-line-bar-----------------\r\n//init time-line-bar width\r\n//barwidth=[{leftbar:140,rightbar:18},{leftbar:140,rightbar:18},{leftbar:140,rightbar:18}]\r\nexport const initTimeLineBarWidth = (length) => ({\r\n    type: ActionType.INIT_TIME_LINE_BAR_WDITH,\r\n    length\r\n})\r\n\r\nexport const addBarToTimeLineBar = (bar,index) => ({\r\n    type: ActionType.ADD_BAR_TO_TIME_LINE_BAR,\r\n    bar,\r\n    index\r\n})\r\nexport const addBarsToTimeLineBar = (bars,index) => ({\r\n    type: ActionType.ADD_BARS_TO_TIME_LINE_BAR,\r\n    bars,\r\n    index\r\n})\r\n\r\nexport const deleteBarFromTimeLineBar = (index) => ({\r\n    type: ActionType.DELETE_BAR_FROM_TIME_LINE_BAR,\r\n    index\r\n})\r\n\r\nexport const changeTimeLineBar= (origin,target) => ({\r\n    type: ActionType.CHANGE_TIME_LINE_BAR,\r\n    origin,\r\n    target\r\n})\r\n\r\n//set-left-bar-width in the 'barwidth' with \r\nexport const setLeftBarWidth = (index,width) => ({\r\n    type: ActionType.SET_LEFT_BAR_WIDTH,\r\n    index,\r\n    width\r\n})\r\n\r\nexport const setRightBarWidth = (index,width) => ({\r\n    type: ActionType.SET_RIGHT_BAR_WIDTH,\r\n    index,\r\n    width\r\n})\r\n\r\nexport const setDragDirection = (direction) => ({\r\n    type: ActionType.SET_DRAG_DIRECTION,\r\n    direction\r\n})\r\n\r\nexport const setMouseDownState=(mouseDown)=>({\r\n    type:ActionType.SET_MOUSE_DOWN_STATE,\r\n    mouseDown\r\n})\r\n\r\nexport const setDragState=(index,drag)=>({\r\n    type:ActionType.SET_DRAG_STATE,\r\n    index,\r\n    drag\r\n})\r\n\r\n\r\nexport const setCurrentX=(clientx)=>({\r\n    type:ActionType.SET_CURRENT_X,\r\n    clientx\r\n})\r\nexport const setLeftOffsetWidth=(offset)=>({\r\n    type:ActionType.SET_LEFT_OFFSET_WIDTH,\r\n    offset\r\n})\r\nexport const setRightOffsetWidth=(offset)=>({\r\n    type:ActionType.SET_RIGHT_OFFSET_WIDTH,\r\n    offset\r\n})\r\nexport const setCurrentBarIndex=(index)=>({\r\n    type:ActionType.SET_CURRENT_BAR_INDEX,\r\n    index\r\n})\r\n\r\nexport const setPosition = (position) => ({\r\n    type: ActionType.SET_POSITION,\r\n    position,\r\n})\r\n\r\nexport const setSceneScale = (scale) => ({\r\n    type: ActionType.SET_SCENE_SCALE,\r\n    scale,\r\n})\r\n\r\nexport const setDragCursor=(cursor)=>({\r\n    type:ActionType.SET_DRAG_CURSOR,\r\n    cursor\r\n})\r\n\r\n//--------------------question-----------------\r\nexport const question2Gif=(question, narrative_spec)=>({\r\n    type:ActionType.QUESTION_2_GIF,\r\n    question,\r\n    narrative_spec\r\n})\r\n\r\nexport const isGeneratingGIF=(isGenerating)=>({\r\n    type:ActionType.ISGENERATINGGIF,\r\n    isGenerating\r\n})\r\n\r\nexport const changeTempSpec=(temp_spec)=>({\r\n    type:ActionType.CHANGE_TEMP_SPEC,\r\n    temp_spec\r\n})\r\n\r\nexport const operatorChange=(operatorType)=>({\r\n    type:ActionType.OPERATOR_CHANGE,\r\n    operatorType\r\n})\r\n\r\nexport const animationChange=(animationType)=>({\r\n    type:ActionType.ANIMATION_CHANGE,\r\n    animationType\r\n})\r\n\r\nexport const changeKeys=(keys)=>({\r\n    type:ActionType.CHANGE_KEYS,\r\n    keys\r\n})\r\nexport const changeOperator=(origin ,target)=>({\r\n    type:ActionType.CHANGE_OPERATOR,\r\n    origin,\r\n    target\r\n})\r\n\r\nexport const operatorAdding=(operatorAdds)=>({\r\n    type:ActionType.OPERATOR_ADDING,\r\n    operatorAdds\r\n})","export const factColors = {\"trend\": \"#8dd3c7\",\n                            \"extreme\": \"#f0e68c\",\n                            \"value\":\"#bebada\",\n                            \"categorization\":\"#fb8072\",\n                            \"difference\":\"#80b1d3\",\n                            \"proportion\":\"#fdb462\",\n                            \"distribution\":\"#b3de69\",\n                            \"rank\":\"#fccde5\",\n                            \"association\":\"#d9d9d9\",\n                            \"outlier\":\" #bc80bd\",\n                            \"null\": \"white\"}","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n"],"sourceRoot":""}