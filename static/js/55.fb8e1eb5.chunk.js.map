{"version":3,"sources":["pages/EditPage/EditDataVideos/VideoSliceCardList/FactCard.js","pages/EditPage/EditDataVideos/LeftSidebar/DataFact.js","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/lodash/_root.js","../node_modules/rc-util/es/omit.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/antd/es/_util/type.js","../node_modules/antd/es/_util/reactNode.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_Symbol.js","axios/config.js","../node_modules/lodash/_freeGlobal.js","axios/base.js","axios/api.js","../node_modules/process/browser.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","axios/activitiesCode.js","axios/recordactivities.js","model/fact.js","../node_modules/antd/es/spin/style/index.js","../node_modules/lodash/debounce.js","../node_modules/antd/es/spin/index.js","constant/config.js","constant/imageUrl.js","../node_modules/lodash/now.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/isSymbol.js","action/videoAction.js","view/StoryView/Color.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../node_modules/react-dnd/dist/esm/common/DndProvider.js"],"names":["getChoice","length","Math","round","random","getFactChartType","shema","fact","supportedChartTypes","getSupportedChartTypes","chart","cardSource","canDrag","props","isReady","isDragging","monitor","getItem","id","beginDrag","component","document","body","querySelectorAll","index","classList","add","endDrag","isPlayVideo","remove","didDrop","dropResult","getDropResult","addCard","insert","specData","schemaFilter","_","cloneDeep","schemaFilterLocal","schema","ChartType","ISOTYPE_BAR_CHART","VERTICAL_BAR_CHART","customizeFact","isValid","console","log","specChart","specFact","breakdown","groupby","map","d","width_height","width","height","type","style","duration","showSuggestion","size","datares","dataresLocal","specNew","data","values","insertFact","specs","record_activity","activitiesCode","dragNewFact","deleteUnusedFact","addBarToTimeLineBar","leftbar","rightbar","isDrag","FactCard","deleteFact","nextProps","this","nextFact","isEqual","filters","uuid","uuidv4","vis","fact2unitVis","connectDragSource","className","onClick","React","Component","DragSource","connect","dragSource","DataFact","getGenerateURL","ConvertForms","DATACOMICS","config","url","generateGraphRandomly","FACTSHEET","generateRandomly","addFact","typeForm","setState","operateState","OperationType","ADDING","name","adding","then","response","facts","story","ConvertType","DASHBOARD","DATAVIDEOS","tempFacts","factDict","Fact","push","Promise","resolve","reject","a","fileName","filtersLocal","file_name","max_story_length","JSON","stringify","method","api","fail","ADD_FAILED","errorMessage","generateMoreFacts","filename","error","GENERATED","lang","intl","options","currentLocale","filter","state","unusedFacts","initDone","tip","get","item","generatedScript","genFactSentence","generatedSubtitle","genSubtitle","AddView","backend","HTML5Backend","enableMouseEvents","spinning","wrapperClassName","key","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","Array","isArray","inner","apply","toString","Object","prototype","call","join","module","exports","default","_typeof","obj","Symbol","iterator","constructor","freeGlobal","require","freeSelf","self","root","Function","omit","fields","clone","_objectSpread","forEach","getRawTag","objectToString","symToStringTag","toStringTag","undefined","value","tuple","_len","args","_key","isValidElement","cloneElement","element","replacement","replaceElement","applicationUrl","urlPrefix","generationUrlPrefix","activitiesPrefix","uploadDataPrefix","question2gifPrefix","accountIp","share","publicPrefix","loginadmintest","loginRedirectUrl","logoutRedirectUrl","authenUrl","accessToken","userImage","checkToken","logout","logoutAuthSystem","users","activitiesApi","uploadData","uploadGraphData","fetch","factScoring","filteredGenerate","question2gif","global","composeUrl","qs","result","keys","requestWithoutCredentials","param","reslove","axios","status","catch","formData","generate","shareStory","jsonstring","fetchStory","uid","req","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","objectProto","nativeObjectToString","isOwn","tag","unmasked","uploadFile","generateFactSheet","downloadFile","editTopic","editLayout","editFactCaption","editDiagram","editSheetCaption","actionid","objectid","action","meta","measure","subspace","focus","parameter","score","information","significance","script","aggregated","aggregatedFact","compoundType","compoundChart","JUXTAPOSITION","isObject","now","toNumber","nativeMax","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","__rest","s","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defaultIndicator","Spin","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","renderSpin","_ref2","_classNames","getPrefixCls","direction","_a","customizePrefixCls","prefixCls","restProps","spinClassName","_defineProperty","divProps","spinElement","_extends","indicator","dotClassName","renderIndicator","isNestedPattern","containerClassName","children","shouldBeDelayed","isNaN","Number","shouldDelay","_createClass","ConfigConsumer","defaultProps","iconUrl","AliCloud","generateIconUrl","H5","Date","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","test","slice","trimmedEndIndex","reTrimStart","string","replace","reWhitespace","charAt","baseGetTag","isObjectLike","initialVideoSlice","ActionType","INIT_VIDOE_CARD","replayVideoSlice","REPLAY_VIDEO_SLICE","playVideoSlice","PLAY_VIDEO_SLICE","playVideoContinue","PLAY_VIDEO_CONTINUE","stopPlayVideoContinue","STOP_PLAY_VIDEO_CONTINUE","addNowVideoTime","ADD_NOW_VIDEO_TIME","changeNowVideoTime","CHANGE_NOW_VIDEO_TIME","changeAllVideoTime","CHANGE_ALL_VIDEO_TIME","removeCard","REMOVE_CARD","changeCard","origin","target","CHANGE_CARD","exchangeCard","card","EXCHANGE_CARD","isGeneratedByAlg","ADD_CARD","addCards","cards","ADD_CARDS","addEmptyCard","ADD_EMPTY_CARD","setLeftsiderContent","content","SET_LEFTSIDER_CONTENT","initTimeLineBarWidth","INIT_TIME_LINE_BAR_WDITH","bar","ADD_BAR_TO_TIME_LINE_BAR","addBarsToTimeLineBar","bars","ADD_BARS_TO_TIME_LINE_BAR","deleteBarFromTimeLineBar","DELETE_BAR_FROM_TIME_LINE_BAR","changeTimeLineBar","CHANGE_TIME_LINE_BAR","setLeftBarWidth","SET_LEFT_BAR_WIDTH","setRightBarWidth","SET_RIGHT_BAR_WIDTH","setDragDirection","SET_DRAG_DIRECTION","setMouseDownState","mouseDown","SET_MOUSE_DOWN_STATE","setDragState","drag","SET_DRAG_STATE","setCurrentX","clientx","SET_CURRENT_X","setLeftOffsetWidth","offset","SET_LEFT_OFFSET_WIDTH","setRightOffsetWidth","SET_RIGHT_OFFSET_WIDTH","setCurrentBarIndex","SET_CURRENT_BAR_INDEX","setPosition","position","SET_POSITION","setSceneScale","scale","SET_SCENE_SCALE","setDragCursor","cursor","SET_DRAG_CURSOR","question2Gif","question","narrative_spec","QUESTION_2_GIF","isGeneratingGIF","isGenerating","ISGENERATINGGIF","changeTempSpec","temp_spec","CHANGE_TEMP_SPEC","operatorChange","operatorType","OPERATOR_CHANGE","animationChange","animationType","ANIMATION_CHANGE","changeKeys","CHANGE_KEYS","changeOperator","CHANGE_OPERATOR","factColors","memoize","fn","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","EnterLeaveCounter","isNodeInDocument","instance","Constructor","entered","protoProps","staticProps","enteringNode","previousLength","itemsA","itemsB","set","Set","insertItem","union","node","contains","leavingNode","items","isFirefox","navigator","userAgent","isSafari","Boolean","window","safari","MonotonicInterpolant","xs","ys","indexes","sort","b","dx","dy","dys","dxs","ms","_i","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","x","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","y","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","getDataFromDataTransfer","dataTransfer","typesToTry","defaultValue","reduce","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","matchesTypes","urls","split","text","NativeDragSource","initializeExposedProperties","property","warn","_this2","newProperties","defineProperties","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","some","OptionsReader","globalContext","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","source","getOwnPropertyDescriptors","HTML5BackendImpl","manager","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getSourceClientOffset","sourceId","endDragNativeItem","isDraggingNativeItem","actions","registry","removeSource","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","defaultPrevented","publishSource","nativeType","setDragImage","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","err","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","hover","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","_this$currentNativeSo","loadDataTransfer","reset","handleTopDrop","drop","handleSelectStart","dragDrop","tagName","isContentEditable","getActions","getMonitor","getRegistry","_this$dragStartSource","_this$dragOverTargetI","__isReactDndBackendSetUp","addEventListeners","removeEventListeners","cancelAnimationFrame","delete","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","getItemType","createNativeDragSource","addSource","_this5","unshift","context","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","from","_unsupportedIterableToArray","_nonIterableRest","arr2","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","refCount","DndProvider","memo","_ref","_getDndContextValue2","dragDropManager","getGlobalContext","debugMode","ctx","instanceSymbol","createDndContext","createSingletonDndContext","isGlobalInstance","getDndContextValue","DndContext","Provider","displayName","for"],"mappings":"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","file":"static/js/55.fb8e1eb5.chunk.js","sourcesContent":["import React from 'react';\nimport { fact2unitVis } from '../../../../tool/fact2unitVis';\nimport { fact2chart } from '../../../../tool/fact2vis.js';\nimport uuidv4 from 'uuid/v4';\nimport ChartType from '../../../../constant/ChartType';\nimport getSupportedChartTypes from '@/tool/getSupportedChartTypes';\nimport _ from 'lodash';\nimport { isValid, customizeFact } from '@/view/FactEditor/helper';\nimport { DragSource } from 'react-dnd';\nimport { factColors } from '../../../../view/StoryView/Color.js'\nimport { Tooltip } from 'antd';\nimport activitiesCode from '@/axios/activitiesCode';\nimport record_activity from '@/axios/recordactivities'\nimport * as d3 from 'd3';\nimport { addEmptyCard } from '../../../../action/videoAction';\nconst Types = {\n    CARD: 'card'\n}\nexport const getChoice = (length) => {\n    let choice = Math.round(Math.random() * (length - 1));\n    return choice;\n}\n\nexport const getFactChartType = (shema, fact, choice = 0) => {\n    let supportedChartTypes = getSupportedChartTypes(fact, shema);\n    if (supportedChartTypes.length === 0) return null;\n    return supportedChartTypes[getChoice(supportedChartTypes.length)].chart;\n}\n/**\n * Specifies the drag source contract.\n * Only `beginDrag` function is required.\n */\nconst cardSource = {\n    canDrag(props) {\n        // You can disallow drag based on props\n        return props.isReady\n    },\n\n    isDragging(props, monitor) {\n        // If your component gets unmounted while dragged\n        // (like a card in Kanban board dragged between lists)\n        // you can implement something like this to keep its\n        // appearance dragged:\n        return monitor.getItem().id === props.id\n    },\n\n    beginDrag(props, monitor, component) {\n        // Return the data describing the dragged item\n        let controls = document.body.querySelectorAll(\".dragCard\");\n        controls[component.props.index].classList.add(\"dragging\");\n        const item = { id: props.id }\n        return item\n    },\n\n    endDrag(props, monitor, component) {\n        if(props.isPlayVideo)\n        {\n            null\n        }\n        else\n        {\n            let controls = document.body.querySelectorAll(\".dragCard\");\n            controls[component.props.index].classList.remove(\"dragging\");\n\n            if (!monitor.didDrop()) {\n                // You can check whether the drop was successful\n                // or if the drag ended but nobody handled the drop\n                return\n            }\n\n            const dropResult = monitor.getDropResult();\n            let { addCard, index } = component.props;\n            if (typeof (dropResult.insert) !== \"undefined\") {\n                //record_activity(activitiesCode.dragNewFact, 1, props.fact)\n                let schemaFilter = _.cloneDeep(props.schemaFilterLocal);\n                let schema=props.schema\n                let specData\n                schemaFilter ? specData = { \"schema\": schemaFilter, } : specData = { \"schema\": schema };\n\n                let fact = props.fact\n\n                if (!fact.chart || fact.chart === \"\") {\n                    fact.chart = getFactChartType(specData.schema, fact); //chart\n                }\n            \n                let chart = fact.chart;\n            \n                if (chart === ChartType.ISOTYPE_BAR_CHART) {\n                    fact.chart = ChartType.VERTICAL_BAR_CHART;\n                }\n                fact = customizeFact(fact);\n                if (!fact.chart || !isValid(fact)) {\n                    console.log(\"no valid\", fact)\n                    return null;\n                }\n\n                let specFact = {\n                    ...fact,\n                    breakdown: fact.groupby.map(d => {\n                        return {\n                            \"field\": d\n                        }\n                    })\n                }\n\n                let width_height = { \"width\": 135, \"height\": 86 };\n                let size = null;\n                let specChart;\n                if (width_height) {\n                    specChart = {\n                        width: width_height.width,\n                        height: width_height.height,\n                        type: \"unitvis\",\n                        style: \"business\",\n                        duration: 0,\n                        showSuggestion: true, //Unsupported\n                    }\n                } else {\n                    specChart = {\n                        size: size,\n                        type: \"unitvis\",\n                        style: \"business\",\n                        duration: 0,\n                        showSuggestion: true, //Unsupported\n                    }\n                }\n\n                let datares = _.cloneDeep(props.dataresLocal);\n\n                specData = {\n                    ...specData,\n                    values: datares,\n                }\n\n                let specNew = {\n                    data: specData,\n                    fact: specFact,\n                    chart: specChart,\n                }\n\n                let insertFact = props.fact\n                let specs = specNew\n                let time = 6000;\n                // facts\n                record_activity(activitiesCode.dragNewFact, 1 , props.fact)\n                props.insertFact(index, dropResult.insert);\n                // keyframes\n                addCard(insertFact,specs,time,false, dropResult.insert);\n                // \n                props.deleteUnusedFact(index);\n                // timebar\n                let bar = { leftbar: 140, rightbar: 18,isDrag:false }\n                props.addBarToTimeLineBar(bar,dropResult.insert)\n            }\n        }\n    }\n}\n\n/**\n * Specifies which props to inject into your component.\n */\nfunction collect(connect, monitor) {\n    return {\n        connectDragSource: connect.dragSource(),\n        // You can ask the monitor about the current drag state:\n        isDragging: monitor.isDragging()\n    }\n}\n\n\nclass FactCard extends React.Component {\n\n    deleteFact = () => {\n        this.props.deleteUnusedFact(this.props.index);\n    }\n\n    shouldComponentUpdate(nextProps) {\n        let { fact } = this.props;\n        let nextFact = nextProps.fact;\n        return !_.isEqual(fact, nextFact);\n    }\n\n    render() {\n        let { data, schema, fact, isReady, filters,width,height } = this.props;\n\n        let datares = _.cloneDeep(this.props.dataresLocal);\n        // console.log(datares)\n\n\n        let schemaFilter = _.cloneDeep(this.props.schemaFilterLocal);\n\n        let specData\n        if (schemaFilter) {\n            specData = {\n                \"schema\": schemaFilter,\n            };\n        }\n        else {\n            specData = {\n                \"schema\": schema\n            };\n        }\n        let uuid = uuidv4();\n        //  unit vis \n        let vis = fact2unitVis(specData, uuid, fact, datares,null,{\"width\":width,\"height\": height} ,true);\n        // These props are injected by React DnD,\n        // as defined by your `collect` function above:\n        const { connectDragSource } = this.props;\n        return connectDragSource(\n            <li>\n                <div className={isReady ? \"factCard dragCard\" : \"factCard\"} >\n                    <div className='delete' onClick={() => this.deleteFact()}></div>\n                    <div className='vis'>\n                        {vis}\n                    </div>\n                </div>\n            </li>\n        )\n    }\n}\n\nexport default DragSource(Types.CARD, cardSource, collect)(FactCard);\n","import React from 'react';\r\nimport { Spin } from \"antd\";\r\nimport OperationType from '@/constant/OperationType'\r\nimport ConvertForms from '@/constant/config';\r\nimport ConvertType from '@/constant/ConvertType';\r\nimport config from '@/axios/config';\r\nimport { DndProvider } from 'react-dnd';\r\nimport FactCard from '../VideoSliceCardList/FactCard';\r\nimport { genFactSentence, genSubtitle } from '@/sentencer/index';\r\nimport activitiesCode from '@/axios/activitiesCode';\r\nimport record_activity from '@/axios/recordactivities';\r\nimport * as api from '@/axios/api';\r\nimport Fact from '@/model/fact';\r\nimport uuidv4 from 'uuid/v4';\r\nimport { filter } from 'lodash';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nconst addFactNum = 10;\r\n\r\nexport default class DataFact extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const { intl} = this.props\r\n        let lang = intl.options.currentLocale\r\n        filter(lang);\r\n        this.state = {};\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const { unusedFacts } = this.props;\r\n        if (!unusedFacts.length) {\r\n            this.addFact();\r\n        }\r\n        \r\n    }\r\n    getGenerateURL = (type) => {\r\n        switch (type) {\r\n            case ConvertForms.DATACOMICS:\r\n                return config.url.generateGraphRandomly;\r\n            case ConvertForms.FACTSHEET:\r\n            default:\r\n                return config.url.generateRandomly;\r\n        }\r\n    }\r\n\r\n    addFact = () => {\r\n        let typeForm = ConvertForms[0];\r\n        this.setState({\r\n            operateState: OperationType.ADDING\r\n        })\r\n        let type = typeForm.name;\r\n        //TODO:fact\r\n        this.adding(this.getGenerateURL(type)).then(response => {\r\n            const facts = response.data.story.facts;\r\n\r\n            switch (type) {\r\n                case ConvertType.DATACOMICS:\r\n                case ConvertType.FACTSHEET:\r\n                case ConvertType.DASHBOARD:\r\n                case ConvertType.DATAVIDEOS:\r\n                default:\r\n                    let tempFacts = [];\r\n                    for (let factDict of facts) {\r\n                        let fact = new Fact(\r\n                            factDict['type'],\r\n                            factDict['measure'],\r\n                            factDict['subspace'],\r\n                            factDict['groupby'],\r\n                            factDict['focus'],\r\n                            factDict['parameter'],\r\n                            \"\", // chart\r\n                            factDict['score'],\r\n                            factDict['information'],\r\n                            factDict['significance']\r\n                        );\r\n                        fact.uuid = uuidv4();\r\n                        tempFacts.push(fact);\r\n                    }\r\n                    this.props.addFact(tempFacts);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    adding = (url) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            let fileName = this.props.fileName;\r\n            let filters = _.cloneDeep(this.props.filtersLocal);\r\n\r\n            let data;\r\n            if (filters)\r\n                data = {\r\n                    file_name: fileName,\r\n                    max_story_length: addFactNum,\r\n                    filters: JSON.stringify(filters),\r\n                    method: 'mcts'\r\n                }\r\n\r\n            const response = await api.generate(url, data)\r\n            console.log('response-adding', response)\r\n            if (response.data.fail) {\r\n                this.setState({\r\n                    operateState: OperationType.ADD_FAILED,\r\n                    errorMessage: response.data.fail\r\n                })\r\n                reject()\r\n                record_activity(activitiesCode.generateMoreFacts, 0, { filename: fileName, response: response });\r\n            }\r\n            if (response.data.error) {\r\n                this.setState({\r\n                    operateState: OperationType.ADD_FAILED,\r\n                    errorMessage: response.data.error\r\n                })\r\n                reject()\r\n                record_activity(activitiesCode.generateMoreFacts, 0, { filename: fileName, response: response });\r\n            }\r\n            this.setState({\r\n                operateState: OperationType.GENERATED\r\n            })\r\n            resolve(response)\r\n            record_activity(activitiesCode.generateMoreFacts, 1, { filename: fileName, response: response });\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const { intl, initDone, unusedFacts } = this.props\r\n        const { operateState } = this.state\r\n        let lang = intl.options.currentLocale\r\n        let tip = initDone && intl.get(\"adding\");\r\n        unusedFacts.map((item, index) => {\r\n            item.generatedScript = genFactSentence(item, lang)\r\n            item.generatedSubtitle = genSubtitle(item, lang)\r\n        })\r\n        //fact\r\n        const AddView = () => {\r\n            return (\r\n                <div className='add'>\r\n                    <div className=\"addImage\" onClick={this.addFact}></div>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <DndProvider backend={HTML5Backend} options={{ enableMouseEvents: true }}>\r\n                <div className='Topic-Facts'>\r\n                    <div className=\"DataFacts\">\r\n                        <Spin tip={tip} spinning={operateState === OperationType.ADDING} wrapperClassName=\"editSpining\">\r\n                            {/* <DataFactsTxt /> */}\r\n                            <div className='factsList'>\r\n                                <ul>\r\n                                    {\r\n                                        unusedFacts.map((fact, index) => {\r\n                                            return (\r\n                                                <div className=\"factCardOuterFrame\">\r\n                                                    <FactCard width={135} height={86} key={fact.uuid + fact.index} dataresLocal={this.props.dataresLocal} schemaFilterLocal={this.props.schemaFilterLocal}  {...this.props} fact={fact} index={index} id={fact.uuid} isReady={true} />\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                        </Spin>\r\n                    </div>\r\n                    <div>\r\n                        <AddView />\r\n                    </div>\r\n                </div>\r\n            </DndProvider>\r\n        )\r\n    }\r\n}","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nexport default function omit(obj, fields) {\n  var clone = _objectSpread({}, obj);\n\n  if (Array.isArray(fields)) {\n    fields.forEach(function (key) {\n      delete clone[key];\n    });\n  }\n\n  return clone;\n}","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","//let calliopeService = 'service.datacalliope.com';\nlet calliopeService = 'calliope-service.idvxlab.com';\n//let calliopeLiteService = 'calliope-service.idvxlab.com:8004';\n// let calliopeLiteService = 'service.datacalliope.com:8002';\n\n// let calliopeLiteService = 'calliope-service.idvxlab.com:8002';\nlet calliopeLiteService = 'urania-api.idvxlab.com:8006';\n// let applicationUrl='https://datacalliope.com';\nlet applicationUrl = 'http://calliope-dev.idvxlab.com';\n\nlet urlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/api/v1` : 'http://localhost:7001/api/v1';\n// let uploadDataPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6028';//todo  7001\nlet generationUrlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6010';//todo  7001\n\n// let question2gifPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6030';//todo  7001\n\n\nlet activitiesPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/log/v1` : 'http://localhost:7002/log/v1';//\nlet publicPrefix = process.env.NODE_ENV === 'production' ? applicationUrl : 'http://localhost:3000';\n//let client_id = '033338f2-02a8-44d4-8d54-5173b4a864f9';\n\nlet uploadDataPrefix = `https://${calliopeLiteService}`;\nlet question2gifPrefix =`https://${calliopeLiteService}` ;\n// let urlPrefix = `https://${calliopeService}:8002/api/v1` ;\n// let uploadDataPrefix  = `https://${calliopeLiteService}`;//todo  7001\n// let generationUrlPrefix = `https://${calliopeLiteService}`;//todo  7001\n// let activitiesPrefix = `https://${calliopeService}:8002/log/v1`;//\n// let publicPrefix = applicationUrl ;\nlet client_id = '6dcd0f8b-6990-4d69-9018-29b3351aa6ff';\nlet accountIp = `https://account.datacalliope.com`\nlet logoutRedirectUrlIp = `https://service.datacalliope.com:8001`\n\nconst config = {\n    url: {\n        share: `${uploadDataPrefix}/share`,\n        applicationUrl: applicationUrl,\n        //share\n        publicPrefix: publicPrefix,\n        //login\n        loginadmintest: `${urlPrefix}/loginadmintest`,\n        loginRedirectUrl: `${accountIp}/#/login?response_type=code&client_id=${client_id}&grant_type=authorization_code&redirect_uri=${applicationUrl}`,\n        logoutRedirectUrl: `${applicationUrl}/#/logout`,\n        authenUrl: accountIp,\n        accessToken: `${urlPrefix}/accesstoken`,\n        userImage: `${logoutRedirectUrlIp}/img`,\n        checkToken: `${urlPrefix}/checktoken`,\n        //logout\n        logout: `${urlPrefix}/logout`,\n        logoutAuthSystem: `${logoutRedirectUrlIp}/logout`,\n        //activities\n        users: `${urlPrefix}/users`,\n        activitiesApi: `${activitiesPrefix}/users`,\n        //upload\n        uploadDataPrefix: uploadDataPrefix,\n        uploadData: `${uploadDataPrefix}/upload`,\n        uploadGraphData: `${uploadDataPrefix}/uploadGraph`,\n        \n        fetch: `${uploadDataPrefix}/data/share`,\n        //story generation\n        factScoring: `${generationUrlPrefix}/fact`,\n        generateRandomly: `${generationUrlPrefix}/generate`,\n        generateGraphRandomly: `${generationUrlPrefix}/generateGraphRandomly`,\n\n        //data filter\n        filteredGenerate:`${generationUrlPrefix}/filteredgenerate`,\n\n        // data gif\n        question2gif:`${question2gifPrefix}/edit_decompose`\n    }\n}\nexport default config","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","import axios from 'axios';\nimport { stringify } from 'query-string';\n// import config from '@/axios/config';\n\nconst composeUrl = function (url, qs) {\n    let result = '';\n    // if (url[0] !== '/') {\n    //   result += '/';\n    // }\n    result += url;\n    if (typeof qs === 'object' && Object.keys(qs).length !== 0) {\n        result += `?${stringify(qs)}`;\n    }\n    return result;\n};\n\nexport const request = ({ url, method, param, data }) => {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: method,\n            url: composeUrl(url, param),\n            data: data,\n            withCredentials: true,\n            // headers: { 'token': Cookies.get('userInfo') ? JSON.parse(Cookies.get('userInfo')).token : null },\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            if (error.response) {\n                if (error.response.status === 401) {\n                    //reject('401');\n                    reject()\n                    //\n                    // axios({\n                    //     method: \"post\",\n                    //     url: `${config.url.logout}`,\n                    //     data: {},\n                    //     withCredentials: true\n                    // }).then((response) => {\n                    //     if (response.status === 200) {\n                    //         window.location.href = config.url.loginRedirectUrl //login first\n                    //     }\n                    // }).catch(\n                    // )\n                }\n            }\n            reject();\n        })\n    })\n};\n\nexport const requestWithoutCredentials = ({ url, method, param, data }) => {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: method,\n            url: composeUrl(url, param),\n            data: data\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n};\n\n","import * as req from './base';\nimport config from '@/axios/config';\nimport axios from 'axios';\n\n/**\n *  \n * @param \n */\nexport async function checkToken() {\n    const data = await req.request({\n        url: `${config.url.checkToken}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\nexport async function loginadmintest() {\n    const data = await req.request({\n        url: `${config.url.loginadmintest}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\nexport async function accessToken(body) {\n    const data = await req.request({\n        url: `${config.url.accessToken}`,\n        method: 'post',\n        param: {},\n        data: body\n    });\n    return data;\n}\nexport async function logout() {\n    const data = await req.request({\n        url: `${config.url.logout}`,\n        method: 'post',\n        param: {},\n        data: {}\n    });\n    return data;\n}\n\n\nexport async function uploadData(formData) {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: \"post\",\n            url: `${config.url.uploadData}`,\n            config: {\n                \"headers\": {\n                    'Content-Type': 'multipart/form-data' //application/json; charset=utf-8\n                },\n            },\n            data: formData\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n}\n\n\nexport function filteredgenerate(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\nexport function generate(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\nexport function question2gif(url, data) {\n    return axios({\n        method: \"post\",\n        url: url,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        },\n        data: data\n    })\n}\n\n\nexport function factScoring(filename, fact,filters, method) {\n    return axios({\n        \"method\": \"POST\",\n        \"url\": config.url.factScoring,\n        \"headers\": {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        },\n        \"data\": {\n            \"file_name\": filename,\n            \"fact\": fact,\n            \"filters\":filters,\n            \"method\": method,\n        }\n    })\n}\n\nexport async function shareStory(jsonstring) {\n    return new Promise((reslove, reject) => {\n        axios({\n            method: \"post\",\n            url: `${config.url.share}`,\n            config: {\n                \"headers\": {\n                    'Content-Type': 'application/json; charset=utf-8'\n                },\n            },\n            data: {\n                \"share_json\": jsonstring\n            }\n        }).then((response) => {\n            if (response.status >= 400) {\n                reject();\n            } else if (response.status === 200 || response.status === 201 || response.status === 204) {\n                reslove(response.data);\n            } else {\n                reject();\n            }\n        }).catch(error => {\n            reject();\n            //  message.error('error message');\n        })\n    })\n}\n\nexport async function fetchStory(id) {\n    return axios({\n        method: \"get\",\n        \"url\": `${config.url.fetch}/${id}.json`,\n        config: {\n            \"headers\": {\n                'Content-Type': 'application/json; charset=utf-8'\n            },\n        }\n    })\n}\n/*****\n *\n ssr()koa(koa-views)pdf)\n node.js pdf puppeteerPDF\n koa-sendPDF \n * \n data\n */\nexport function generatePDF(data) {\n    return axios({\n        method: 'post',\n        url: `/generatePDF`,\n        param: {},\n        data: data\n    })\n}\n\n/**\n * ||  API\n * @param \n */\n\nexport async function activitiesApi(uid, body) {\n    const data = await req.requestWithoutCredentials({\n        url: `${config.url.activitiesApi}/lite/activities`,\n        method: 'post',\n        param: {},\n        data: body\n    });\n    return data;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","const activitiesCode = {\n    uploadFile: 1,\n    generateFactSheet: 2,\n    downloadFile:3,\n    editTopic:4,\n    generateMoreFacts:5,\n    editLayout:6,\n    dragNewFact:7,\n    deleteFact:8,\n    editFactCaption:9,\n    editDiagram:10,\n    editSheetCaption:11\n}\nexport default activitiesCode;","import * as api from '@/axios/api';\n\n\nexport default function record_activity (actionid, objectid,response) {\n    let uid = 'users'\n    let body = {\n        action: actionid,\n        objectid: objectid,\n        meta: JSON.stringify(response),\n    }\n    api.activitiesApi(uid, body).then(response => {console.log(response)\n    }).catch(error =>{console.log(response)})\n};\n","import {genFactSentence,genSubtitle} from '../sentencer/index';\nimport ChartType from '../constant/ChartType';\nexport default class Fact {\n    constructor(type, measure = [], subspace = [], groupby = [], focus = [], parameter = [], chart = \"\",  score = 0, information = 0, significance = 0) {\n        this.type = type;\n        this.measure = measure;\n        this.subspace = subspace;\n        this.groupby = groupby;\n        this.focus = focus;\n        this.parameter = parameter;\n        this.score = score;\n        this.information = information;\n        this.significance = significance;\n        this.chart = chart;\n        this.generatedScript = genFactSentence(this);\n        this.generatedSubtitle = genSubtitle(this)\n        //animation duration\n        this.duration = 3000;\n        // Compound Fact\n        this.aggregated = false;\n        this.aggregatedFact = null;\n        this.compoundType = '';\n        this.compoundChart = ChartType.JUXTAPOSITION;\n    }\n    script = () => this.generatedScript;\n}","import '../../style/default.less';\nimport './index.less';","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && typeof this.props.children !== 'undefined');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","import ConvertType from './ConvertType'\nimport AliCloud from '@/constant/imageUrl'\n\nlet ConvertForms = [\n    {\n        name: ConvertType.FACTSHEET,\n        iconUrl: `${AliCloud}/convertType/factsheet.png`,\n        generateIconUrl: `${AliCloud}/convertType/factsheet_black.png`\n    },\n    {\n        name: ConvertType.H5,\n        iconUrl: `${AliCloud}/convertType/H5.png`,\n        generateIconUrl: `${AliCloud}/convertType/H5_black.png`\n    },\n    {\n        name: ConvertType.DATAVIDEOS,\n        iconUrl: `${AliCloud}/convertType/video.png`,\n        generateIconUrl: `${AliCloud}/convertType/video_black.png`\n    }\n    // {\n    //     name: ConvertType.DASHBOARD,\n    //     iconUrl: `${AliCloud}convertType/dashboard.png`,\n    //     generateIconUrl: `${AliCloud}convertType/dashboard_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATACOMICS,\n    //     iconUrl: `${AliCloud}convertType/comic.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATAVIDEOS,\n    //     iconUrl: `${AliCloud}convertType/video.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATACOMICS,\n    //     iconUrl: `${AliCloud}convertType/comic.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // },\n    // {\n    //     name: ConvertType.DATAVIDEOS,\n    //     iconUrl: `${AliCloud}convertType/video.png`,\n    //     generateIconUrl: `${AliCloud}convertType/factsheet_black.png'\n    // }\n\n]\nexport default ConvertForms;","const AliCloud = 'http://calliope-dev.oss-cn-shanghai.aliyuncs.com/image/images'\nexport default AliCloud","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","import ActionType from './type';\r\n\r\n\r\nexport const initialVideoSlice = (facts, schemaFilter, filename, datares, schema) => ({\r\n    type: ActionType.INIT_VIDOE_CARD,\r\n    facts,\r\n    schemaFilter,\r\n    filename,\r\n    datares,\r\n    schema\r\n})\r\n\r\nexport const replayVideoSlice = () => ({\r\n    type: ActionType.REPLAY_VIDEO_SLICE\r\n})\r\n\r\nexport const playVideoSlice = (index) => ({\r\n    type: ActionType.PLAY_VIDEO_SLICE,\r\n    index\r\n})\r\n\r\n//play video continuity\r\nexport const playVideoContinue = () => ({\r\n    type: ActionType.PLAY_VIDEO_CONTINUE\r\n    \r\n})\r\n\r\n//stop play video continuity\r\nexport const stopPlayVideoContinue = () => ({\r\n    type: ActionType.STOP_PLAY_VIDEO_CONTINUE\r\n})\r\n\r\n//add nowVideoTime\r\nexport const addNowVideoTime = () => ({\r\n    type: ActionType.ADD_NOW_VIDEO_TIME\r\n})\r\n\r\nexport const changeNowVideoTime = (time) => ({\r\n    type: ActionType.CHANGE_NOW_VIDEO_TIME,\r\n    time,\r\n})\r\n\r\nexport const changeAllVideoTime = (time) => ({\r\n    type: ActionType.CHANGE_ALL_VIDEO_TIME,\r\n    time,\r\n})\r\n\r\nexport const removeCard = (index) => ({\r\n    type: ActionType.REMOVE_CARD,\r\n    index\r\n})\r\n\r\n//drag card to another index\r\nexport const changeCard = (origin ,target) => ({\r\n    type: ActionType.CHANGE_CARD,\r\n    origin,\r\n    target    \r\n})\r\n\r\nexport const exchangeCard = (index,card) => ({\r\n    type: ActionType.EXCHANGE_CARD,\r\n    index,\r\n    card\r\n})\r\n\r\n//drag data fact to card list\r\nexport const addCard = (fact,specs,time,isGeneratedByAlg,insert) => ({\r\n    type:ActionType.ADD_CARD,\r\n    fact,specs,time,isGeneratedByAlg,\r\n    insert\r\n})\r\n\r\nexport const addCards = (cards,insert) => ({\r\n    type:ActionType.ADD_CARDS,\r\n    cards,\r\n    insert\r\n})\r\n\r\nexport const changeCardFlag = (index,flag) => ({\r\n    type:ActionType.CHANGE_CARD_FLAG,\r\n    index,\r\n    flag,\r\n})\r\n\r\n\r\n\r\n//add empty slice\r\nexport const addEmptyCard = () => ({\r\n    type: ActionType.ADD_EMPTY_CARD\r\n})\r\n\r\n//set leftsider content\r\nexport const setLeftsiderContent = (content) => ({\r\n    type: ActionType.SET_LEFTSIDER_CONTENT,\r\n    content\r\n})\r\n\r\n\r\n//--------------------time-line-bar-----------------\r\n//init time-line-bar width\r\n//barwidth=[{leftbar:140,rightbar:18},{leftbar:140,rightbar:18},{leftbar:140,rightbar:18}]\r\nexport const initTimeLineBarWidth = (length) => ({\r\n    type: ActionType.INIT_TIME_LINE_BAR_WDITH,\r\n    length\r\n})\r\n\r\nexport const addBarToTimeLineBar = (bar,index) => ({\r\n    type: ActionType.ADD_BAR_TO_TIME_LINE_BAR,\r\n    bar,\r\n    index\r\n})\r\nexport const addBarsToTimeLineBar = (bars,index) => ({\r\n    type: ActionType.ADD_BARS_TO_TIME_LINE_BAR,\r\n    bars,\r\n    index\r\n})\r\n\r\nexport const deleteBarFromTimeLineBar = (index) => ({\r\n    type: ActionType.DELETE_BAR_FROM_TIME_LINE_BAR,\r\n    index\r\n})\r\n\r\nexport const changeTimeLineBar= (origin,target) => ({\r\n    type: ActionType.CHANGE_TIME_LINE_BAR,\r\n    origin,\r\n    target\r\n})\r\n\r\n//set-left-bar-width in the 'barwidth' with \r\nexport const setLeftBarWidth = (index,width) => ({\r\n    type: ActionType.SET_LEFT_BAR_WIDTH,\r\n    index,\r\n    width\r\n})\r\n\r\nexport const setRightBarWidth = (index,width) => ({\r\n    type: ActionType.SET_RIGHT_BAR_WIDTH,\r\n    index,\r\n    width\r\n})\r\n\r\nexport const setDragDirection = (direction) => ({\r\n    type: ActionType.SET_DRAG_DIRECTION,\r\n    direction\r\n})\r\n\r\nexport const setMouseDownState=(mouseDown)=>({\r\n    type:ActionType.SET_MOUSE_DOWN_STATE,\r\n    mouseDown\r\n})\r\n\r\nexport const setDragState=(index,drag)=>({\r\n    type:ActionType.SET_DRAG_STATE,\r\n    index,\r\n    drag\r\n})\r\n\r\n\r\nexport const setCurrentX=(clientx)=>({\r\n    type:ActionType.SET_CURRENT_X,\r\n    clientx\r\n})\r\nexport const setLeftOffsetWidth=(offset)=>({\r\n    type:ActionType.SET_LEFT_OFFSET_WIDTH,\r\n    offset\r\n})\r\nexport const setRightOffsetWidth=(offset)=>({\r\n    type:ActionType.SET_RIGHT_OFFSET_WIDTH,\r\n    offset\r\n})\r\nexport const setCurrentBarIndex=(index)=>({\r\n    type:ActionType.SET_CURRENT_BAR_INDEX,\r\n    index\r\n})\r\n\r\nexport const setPosition = (position) => ({\r\n    type: ActionType.SET_POSITION,\r\n    position,\r\n})\r\n\r\nexport const setSceneScale = (scale) => ({\r\n    type: ActionType.SET_SCENE_SCALE,\r\n    scale,\r\n})\r\n\r\nexport const setDragCursor=(cursor)=>({\r\n    type:ActionType.SET_DRAG_CURSOR,\r\n    cursor\r\n})\r\n\r\n//--------------------question-----------------\r\nexport const question2Gif=(question, narrative_spec)=>({\r\n    type:ActionType.QUESTION_2_GIF,\r\n    question,\r\n    narrative_spec\r\n})\r\n\r\nexport const isGeneratingGIF=(isGenerating)=>({\r\n    type:ActionType.ISGENERATINGGIF,\r\n    isGenerating\r\n})\r\n\r\nexport const changeTempSpec=(temp_spec)=>({\r\n    type:ActionType.CHANGE_TEMP_SPEC,\r\n    temp_spec\r\n})\r\n\r\nexport const operatorChange=(operatorType)=>({\r\n    type:ActionType.OPERATOR_CHANGE,\r\n    operatorType\r\n})\r\n\r\nexport const animationChange=(animationType)=>({\r\n    type:ActionType.ANIMATION_CHANGE,\r\n    animationType\r\n})\r\n\r\nexport const changeKeys=(keys)=>({\r\n    type:ActionType.CHANGE_KEYS,\r\n    keys\r\n})\r\nexport const changeOperator=(origin ,target)=>({\r\n    type:ActionType.CHANGE_OPERATOR,\r\n    origin,\r\n    target\r\n})","export const factColors = {\"trend\": \"#8dd3c7\",\n                            \"extreme\": \"#f0e68c\",\n                            \"value\":\"#bebada\",\n                            \"categorization\":\"#fb8072\",\n                            \"difference\":\"#80b1d3\",\n                            \"proportion\":\"#fdb462\",\n                            \"distribution\":\"#b3de69\",\n                            \"rank\":\"#fccde5\",\n                            \"association\":\"#d9d9d9\",\n                            \"outlier\":\" #bc80bd\",\n                            \"null\": \"white\"}","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) === null || _document$documentEle === void 0 ? void 0 : _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  function HTML5BackendImpl(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && document.body.contains(node));\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context) {\n  return new HTML5BackendImpl(manager, context);\n};","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}"],"sourceRoot":""}